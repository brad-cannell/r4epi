<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>28 Working with dates | R for Epidemiology</title>
  <meta name="description" content="This is the textbook for Brad Cannell’s Introduction to R Programming for Epidemiologic Research course." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="28 Working with dates | R for Epidemiology" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://brad-cannell.github.io/r4epi/" />
  <meta property="og:image" content="https://brad-cannell.github.io/r4epi/r4epi_icon.png" />
  <meta property="og:description" content="This is the textbook for Brad Cannell’s Introduction to R Programming for Epidemiologic Research course." />
  <meta name="github-repo" content="brad-cannell/r4epi" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="28 Working with dates | R for Epidemiology" />
  
  <meta name="twitter:description" content="This is the textbook for Brad Cannell’s Introduction to R Programming for Epidemiologic Research course." />
  <meta name="twitter:image" content="https://brad-cannell.github.io/r4epi/r4epi_icon.png" />

<meta name="author" content="Brad Cannell" />


<meta name="date" content="2022-07-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="subsetting-data-frames.html"/>
<link rel="next" href="working-with-character-strings.html"/>
<script src="libs/header-attrs-2.14/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.20/datatables.js"></script>
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0RREBTQ0D9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0RREBTQ0D9');
</script>
<!-- R4Epi Favicons -->
<!-- https://bookdown.org/yihui/rmarkdown-cookbook/favicon.html -->
<!-- Also using Favicon Generator (https://realfavicongenerator.net) -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for Epidemiology</a></li>

<li class="divider"></li>
<li><a href="index.html#welcome">Welcome<span></span></a>
<ul>
<li><a href="index.html#acknowledgements">Acknowledgements<span></span></a></li>
</ul></li>
<li><a href="introduction.html#introduction">Introduction<span></span></a>
<ul>
<li><a href="introduction.html#goals">Goals<span></span></a></li>
<li><a href="introduction.html#text-conventions-used-in-this-book">Text conventions used in this book<span></span></a></li>
<li><a href="introduction.html#other-reading">Other reading<span></span></a></li>
<li><a href="introduction.html#contributing-to-r4epi">Contributing to R4Epi<span></span></a>
<ul>
<li><a href="introduction.html#typos">Typos<span></span></a></li>
<li><a href="introduction.html#issues">Issues<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="about-the-authors.html#about-the-authors">About the Authors<span></span></a>
<ul>
<li><a href="about-the-authors.html#brad-cannell">Brad Cannell<span></span></a></li>
<li><a href="about-the-authors.html#melvin-livingston">Melvin Livingston<span></span></a></li>
</ul></li>
<li class="part"><span><b>I Getting Started<span></span></b></span></li>
<li class="chapter" data-level="1" data-path="installing-r-and-rstudio.html"><a href="installing-r-and-rstudio.html"><i class="fa fa-check"></i><b>1</b> Installing R and RStudio<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="installing-r-and-rstudio.html"><a href="installing-r-and-rstudio.html#download-and-install-on-a-mac"><i class="fa fa-check"></i><b>1.1</b> Download and install on a Mac<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="installing-r-and-rstudio.html"><a href="installing-r-and-rstudio.html#download-and-install-on-a-pc"><i class="fa fa-check"></i><b>1.2</b> Download and install on a PC<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="what-is-r.html"><a href="what-is-r.html"><i class="fa fa-check"></i><b>2</b> What is R?<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="what-is-r.html"><a href="what-is-r.html#what-is-data"><i class="fa fa-check"></i><b>2.1</b> What is data?<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="what-is-r.html"><a href="what-is-r.html#what-is-r-1"><i class="fa fa-check"></i><b>2.2</b> What is R?<span></span></a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="what-is-r.html"><a href="what-is-r.html#transferring-data"><i class="fa fa-check"></i><b>2.2.1</b> Transferring data<span></span></a></li>
<li class="chapter" data-level="2.2.2" data-path="what-is-r.html"><a href="what-is-r.html#managing-data"><i class="fa fa-check"></i><b>2.2.2</b> Managing data<span></span></a></li>
<li class="chapter" data-level="2.2.3" data-path="what-is-r.html"><a href="what-is-r.html#analyzing-data"><i class="fa fa-check"></i><b>2.2.3</b> Analyzing data<span></span></a></li>
<li class="chapter" data-level="2.2.4" data-path="what-is-r.html"><a href="what-is-r.html#presenting-data"><i class="fa fa-check"></i><b>2.2.4</b> Presenting data<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="navigating-the-rstudio-interface.html"><a href="navigating-the-rstudio-interface.html"><i class="fa fa-check"></i><b>3</b> Navigating the RStudio interface<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="navigating-the-rstudio-interface.html"><a href="navigating-the-rstudio-interface.html#the-console"><i class="fa fa-check"></i><b>3.1</b> The console<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="navigating-the-rstudio-interface.html"><a href="navigating-the-rstudio-interface.html#the-environment-pane"><i class="fa fa-check"></i><b>3.2</b> The environment pane<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="navigating-the-rstudio-interface.html"><a href="navigating-the-rstudio-interface.html#the-files-pane"><i class="fa fa-check"></i><b>3.3</b> The files pane<span></span></a></li>
<li class="chapter" data-level="3.4" data-path="navigating-the-rstudio-interface.html"><a href="navigating-the-rstudio-interface.html#the-source-pane"><i class="fa fa-check"></i><b>3.4</b> The source pane<span></span></a></li>
<li class="chapter" data-level="3.5" data-path="navigating-the-rstudio-interface.html"><a href="navigating-the-rstudio-interface.html#rstudio-preferences"><i class="fa fa-check"></i><b>3.5</b> RStudio preferences<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html"><i class="fa fa-check"></i><b>4</b> Speaking R’s language<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#r-is-a-language"><i class="fa fa-check"></i><b>4.1</b> R is a <em>language</em><span></span></a></li>
<li class="chapter" data-level="4.2" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#the-r-interpreter"><i class="fa fa-check"></i><b>4.2</b> The R interpreter<span></span></a></li>
<li class="chapter" data-level="4.3" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#errors"><i class="fa fa-check"></i><b>4.3</b> Errors<span></span></a></li>
<li class="chapter" data-level="4.4" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#functions"><i class="fa fa-check"></i><b>4.4</b> Functions<span></span></a></li>
<li class="chapter" data-level="4.5" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#objects"><i class="fa fa-check"></i><b>4.5</b> Objects<span></span></a></li>
<li class="chapter" data-level="4.6" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#comments"><i class="fa fa-check"></i><b>4.6</b> Comments<span></span></a></li>
<li class="chapter" data-level="4.7" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#packages"><i class="fa fa-check"></i><b>4.7</b> Packages<span></span></a></li>
<li class="chapter" data-level="4.8" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#programming-style"><i class="fa fa-check"></i><b>4.8</b> Programming style<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="lets-get-programming.html"><a href="lets-get-programming.html"><i class="fa fa-check"></i><b>5</b> Let’s get programming<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="lets-get-programming.html"><a href="lets-get-programming.html#simulating-data"><i class="fa fa-check"></i><b>5.1</b> Simulating data<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="lets-get-programming.html"><a href="lets-get-programming.html#vectors"><i class="fa fa-check"></i><b>5.2</b> Vectors<span></span></a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="lets-get-programming.html"><a href="lets-get-programming.html#vector-types"><i class="fa fa-check"></i><b>5.2.1</b> Vector types<span></span></a></li>
<li class="chapter" data-level="5.2.2" data-path="lets-get-programming.html"><a href="lets-get-programming.html#double-vectors"><i class="fa fa-check"></i><b>5.2.2</b> Double vectors<span></span></a></li>
<li class="chapter" data-level="5.2.3" data-path="lets-get-programming.html"><a href="lets-get-programming.html#integer-vectors"><i class="fa fa-check"></i><b>5.2.3</b> Integer vectors<span></span></a></li>
<li class="chapter" data-level="5.2.4" data-path="lets-get-programming.html"><a href="lets-get-programming.html#logical-vectors"><i class="fa fa-check"></i><b>5.2.4</b> Logical vectors<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="lets-get-programming.html"><a href="lets-get-programming.html#data-frames"><i class="fa fa-check"></i><b>5.3</b> Data frames<span></span></a></li>
<li class="chapter" data-level="5.4" data-path="lets-get-programming.html"><a href="lets-get-programming.html#tibbles"><i class="fa fa-check"></i><b>5.4</b> Tibbles<span></span></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="lets-get-programming.html"><a href="lets-get-programming.html#the-as_tibble-function"><i class="fa fa-check"></i><b>5.4.1</b> The as_tibble function<span></span></a></li>
<li class="chapter" data-level="5.4.2" data-path="lets-get-programming.html"><a href="lets-get-programming.html#the-tibble-function"><i class="fa fa-check"></i><b>5.4.2</b> The tibble function<span></span></a></li>
<li class="chapter" data-level="5.4.3" data-path="lets-get-programming.html"><a href="lets-get-programming.html#the-tribble-function"><i class="fa fa-check"></i><b>5.4.3</b> The tribble function<span></span></a></li>
<li class="chapter" data-level="5.4.4" data-path="lets-get-programming.html"><a href="lets-get-programming.html#why-use-tibbles"><i class="fa fa-check"></i><b>5.4.4</b> Why use tibbles<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="lets-get-programming.html"><a href="lets-get-programming.html#missing-data"><i class="fa fa-check"></i><b>5.5</b> Missing data<span></span></a></li>
<li class="chapter" data-level="5.6" data-path="lets-get-programming.html"><a href="lets-get-programming.html#our-first-analysis"><i class="fa fa-check"></i><b>5.6</b> Our first analysis<span></span></a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="lets-get-programming.html"><a href="lets-get-programming.html#manual-calculation-of-the-mean"><i class="fa fa-check"></i><b>5.6.1</b> Manual calculation of the mean<span></span></a></li>
<li class="chapter" data-level="5.6.2" data-path="lets-get-programming.html"><a href="lets-get-programming.html#dollar-sign-notation"><i class="fa fa-check"></i><b>5.6.2</b> Dollar sign notation<span></span></a></li>
<li class="chapter" data-level="5.6.3" data-path="lets-get-programming.html"><a href="lets-get-programming.html#bracket-notation"><i class="fa fa-check"></i><b>5.6.3</b> Bracket notation<span></span></a></li>
<li class="chapter" data-level="5.6.4" data-path="lets-get-programming.html"><a href="lets-get-programming.html#the-sum-function"><i class="fa fa-check"></i><b>5.6.4</b> The sum function<span></span></a></li>
<li class="chapter" data-level="5.6.5" data-path="lets-get-programming.html"><a href="lets-get-programming.html#nesting-functions"><i class="fa fa-check"></i><b>5.6.5</b> Nesting functions<span></span></a></li>
<li class="chapter" data-level="5.6.6" data-path="lets-get-programming.html"><a href="lets-get-programming.html#the-length-function"><i class="fa fa-check"></i><b>5.6.6</b> The length function<span></span></a></li>
<li class="chapter" data-level="5.6.7" data-path="lets-get-programming.html"><a href="lets-get-programming.html#the-mean-function"><i class="fa fa-check"></i><b>5.6.7</b> The mean function<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="lets-get-programming.html"><a href="lets-get-programming.html#some-common-errors"><i class="fa fa-check"></i><b>5.7</b> Some common errors<span></span></a></li>
<li class="chapter" data-level="5.8" data-path="lets-get-programming.html"><a href="lets-get-programming.html#summary"><i class="fa fa-check"></i><b>5.8</b> Summary<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="asking-questions.html"><a href="asking-questions.html"><i class="fa fa-check"></i><b>6</b> Asking questions<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="asking-questions.html"><a href="asking-questions.html#when-should-we-seek-help"><i class="fa fa-check"></i><b>6.1</b> When should we seek help?<span></span></a></li>
<li class="chapter" data-level="6.2" data-path="asking-questions.html"><a href="asking-questions.html#where-should-we-seek-help"><i class="fa fa-check"></i><b>6.2</b> Where should we seek help?<span></span></a></li>
<li class="chapter" data-level="6.3" data-path="asking-questions.html"><a href="asking-questions.html#how-should-we-seek-help"><i class="fa fa-check"></i><b>6.3</b> How should we seek help?<span></span></a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="asking-questions.html"><a href="asking-questions.html#creating-a-post-on-stack-overflow"><i class="fa fa-check"></i><b>6.3.1</b> Creating a post on Stack Overflow<span></span></a></li>
<li class="chapter" data-level="6.3.2" data-path="asking-questions.html"><a href="asking-questions.html#creating-better-posts-and-asking-better-questions"><i class="fa fa-check"></i><b>6.3.2</b> Creating better posts and asking better questions<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="asking-questions.html"><a href="asking-questions.html#helping-others"><i class="fa fa-check"></i><b>6.4</b> Helping others<span></span></a></li>
<li class="chapter" data-level="6.5" data-path="asking-questions.html"><a href="asking-questions.html#summary-1"><i class="fa fa-check"></i><b>6.5</b> Summary<span></span></a></li>
</ul></li>
<li class="part"><span><b>II Coding Tools and Best Practices<span></span></b></span></li>
<li class="chapter" data-level="7" data-path="r-scripts.html"><a href="r-scripts.html"><i class="fa fa-check"></i><b>7</b> R scripts<span></span></a>
<ul>
<li class="chapter" data-level="7.1" data-path="r-scripts.html"><a href="r-scripts.html#creating-r-scripts"><i class="fa fa-check"></i><b>7.1</b> Creating R scripts<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>8</b> R markdown<span></span></a>
<ul>
<li class="chapter" data-level="8.1" data-path="r-markdown.html"><a href="r-markdown.html#what-is-r-markdown"><i class="fa fa-check"></i><b>8.1</b> What is R markdown?<span></span></a></li>
<li class="chapter" data-level="8.2" data-path="r-markdown.html"><a href="r-markdown.html#why-use-r-markdown"><i class="fa fa-check"></i><b>8.2</b> Why use R markdown?<span></span></a></li>
<li class="chapter" data-level="8.3" data-path="r-markdown.html"><a href="r-markdown.html#create-an-r-notebook"><i class="fa fa-check"></i><b>8.3</b> Create an R Notebook<span></span></a></li>
<li class="chapter" data-level="8.4" data-path="r-markdown.html"><a href="r-markdown.html#yaml-headers"><i class="fa fa-check"></i><b>8.4</b> YAML headers<span></span></a></li>
<li class="chapter" data-level="8.5" data-path="r-markdown.html"><a href="r-markdown.html#r-code-chunks"><i class="fa fa-check"></i><b>8.5</b> R code chunks<span></span></a></li>
<li class="chapter" data-level="8.6" data-path="r-markdown.html"><a href="r-markdown.html#markdown"><i class="fa fa-check"></i><b>8.6</b> Markdown<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="r-projects.html"><a href="r-projects.html"><i class="fa fa-check"></i><b>9</b> R projects<span></span></a></li>
<li class="chapter" data-level="10" data-path="coding-best-practices.html"><a href="coding-best-practices.html"><i class="fa fa-check"></i><b>10</b> Coding best practices<span></span></a>
<ul>
<li class="chapter" data-level="10.1" data-path="coding-best-practices.html"><a href="coding-best-practices.html#general-principles"><i class="fa fa-check"></i><b>10.1</b> General principles<span></span></a></li>
<li class="chapter" data-level="10.2" data-path="coding-best-practices.html"><a href="coding-best-practices.html#code-comments"><i class="fa fa-check"></i><b>10.2</b> Code comments<span></span></a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="coding-best-practices.html"><a href="coding-best-practices.html#defining-key-variables"><i class="fa fa-check"></i><b>10.2.1</b> Defining key variables<span></span></a></li>
<li class="chapter" data-level="10.2.2" data-path="coding-best-practices.html"><a href="coding-best-practices.html#what-this-code-is-trying-to-accomplish"><i class="fa fa-check"></i><b>10.2.2</b> What this code is trying to accomplish<span></span></a></li>
<li class="chapter" data-level="10.2.3" data-path="coding-best-practices.html"><a href="coding-best-practices.html#why-i-chose-this-particular-strategy"><i class="fa fa-check"></i><b>10.2.3</b> Why I chose this particular strategy<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="coding-best-practices.html"><a href="coding-best-practices.html#style-guidelines"><i class="fa fa-check"></i><b>10.3</b> Style guidelines<span></span></a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="coding-best-practices.html"><a href="coding-best-practices.html#comments-1"><i class="fa fa-check"></i><b>10.3.1</b> Comments<span></span></a></li>
<li class="chapter" data-level="10.3.2" data-path="coding-best-practices.html"><a href="coding-best-practices.html#object-variable-names"><i class="fa fa-check"></i><b>10.3.2</b> Object (variable) names<span></span></a></li>
<li class="chapter" data-level="10.3.3" data-path="coding-best-practices.html"><a href="coding-best-practices.html#use-names-that-are-informative"><i class="fa fa-check"></i><b>10.3.3</b> Use names that are informative<span></span></a></li>
<li class="chapter" data-level="10.3.4" data-path="coding-best-practices.html"><a href="coding-best-practices.html#file-names"><i class="fa fa-check"></i><b>10.3.4</b> File Names<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="using-pipes.html"><a href="using-pipes.html"><i class="fa fa-check"></i><b>11</b> Using pipes<span></span></a>
<ul>
<li class="chapter" data-level="11.1" data-path="using-pipes.html"><a href="using-pipes.html#what-are-pipes"><i class="fa fa-check"></i><b>11.1</b> What are pipes?<span></span></a></li>
<li class="chapter" data-level="11.2" data-path="using-pipes.html"><a href="using-pipes.html#how-do-pipes-work"><i class="fa fa-check"></i><b>11.2</b> How do pipes work?<span></span></a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="using-pipes.html"><a href="using-pipes.html#keyboard-shortcut"><i class="fa fa-check"></i><b>11.2.1</b> Keyboard shortcut<span></span></a></li>
<li class="chapter" data-level="11.2.2" data-path="using-pipes.html"><a href="using-pipes.html#pipe-style"><i class="fa fa-check"></i><b>11.2.2</b> Pipe style<span></span></a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="using-pipes.html"><a href="using-pipes.html#final-thought-on-pipes"><i class="fa fa-check"></i><b>11.3</b> Final thought on pipes<span></span></a></li>
</ul></li>
<li class="part"><span><b>III Data Transfer<span></span></b></span></li>
<li class="chapter" data-level="12" data-path="introduction-to-data-transfer.html"><a href="introduction-to-data-transfer.html"><i class="fa fa-check"></i><b>12</b> Introduction to data transfer<span></span></a></li>
<li class="chapter" data-level="13" data-path="file-paths.html"><a href="file-paths.html"><i class="fa fa-check"></i><b>13</b> File paths<span></span></a>
<ul>
<li class="chapter" data-level="13.1" data-path="file-paths.html"><a href="file-paths.html#finding-file-paths"><i class="fa fa-check"></i><b>13.1</b> Finding file paths<span></span></a></li>
<li class="chapter" data-level="13.2" data-path="file-paths.html"><a href="file-paths.html#relative-file-paths"><i class="fa fa-check"></i><b>13.2</b> Relative file paths<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="importing-plain-text-files.html"><a href="importing-plain-text-files.html"><i class="fa fa-check"></i><b>14</b> Importing plain text files<span></span></a>
<ul>
<li class="chapter" data-level="14.1" data-path="importing-plain-text-files.html"><a href="importing-plain-text-files.html#packages-for-importing-data"><i class="fa fa-check"></i><b>14.1</b> Packages for importing data<span></span></a></li>
<li class="chapter" data-level="14.2" data-path="importing-plain-text-files.html"><a href="importing-plain-text-files.html#importing-space-delimited-files"><i class="fa fa-check"></i><b>14.2</b> Importing space delimited files<span></span></a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="importing-plain-text-files.html"><a href="importing-plain-text-files.html#specifying-missing-data-values"><i class="fa fa-check"></i><b>14.2.1</b> Specifying missing data values<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="importing-plain-text-files.html"><a href="importing-plain-text-files.html#importing-tab-delimited-files"><i class="fa fa-check"></i><b>14.3</b> Importing tab delimited files<span></span></a></li>
<li class="chapter" data-level="14.4" data-path="importing-plain-text-files.html"><a href="importing-plain-text-files.html#importing-fixed-width-format-files"><i class="fa fa-check"></i><b>14.4</b> Importing fixed width format files<span></span></a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="importing-plain-text-files.html"><a href="importing-plain-text-files.html#vector-of-column-widths"><i class="fa fa-check"></i><b>14.4.1</b> Vector of column widths<span></span></a></li>
<li class="chapter" data-level="14.4.2" data-path="importing-plain-text-files.html"><a href="importing-plain-text-files.html#paired-vector-of-start-and-end-positions"><i class="fa fa-check"></i><b>14.4.2</b> Paired vector of start and end positions<span></span></a></li>
<li class="chapter" data-level="14.4.3" data-path="importing-plain-text-files.html"><a href="importing-plain-text-files.html#using-named-arguments"><i class="fa fa-check"></i><b>14.4.3</b> Using named arguments<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="importing-plain-text-files.html"><a href="importing-plain-text-files.html#importing-comma-separated-values-files"><i class="fa fa-check"></i><b>14.5</b> Importing comma separated values files<span></span></a></li>
<li class="chapter" data-level="14.6" data-path="importing-plain-text-files.html"><a href="importing-plain-text-files.html#additional-arguments"><i class="fa fa-check"></i><b>14.6</b> Additional arguments<span></span></a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="importing-binary-files.html"><a href="importing-binary-files.html"><i class="fa fa-check"></i><b>15</b> Importing binary files<span></span></a>
<ul>
<li class="chapter" data-level="15.1" data-path="importing-binary-files.html"><a href="importing-binary-files.html#packages-for-importing-data-1"><i class="fa fa-check"></i><b>15.1</b> Packages for importing data<span></span></a></li>
<li class="chapter" data-level="15.2" data-path="importing-binary-files.html"><a href="importing-binary-files.html#importing-microsoft-excel-spreadsheets"><i class="fa fa-check"></i><b>15.2</b> Importing Microsoft Excel spreadsheets<span></span></a></li>
<li class="chapter" data-level="15.3" data-path="importing-binary-files.html"><a href="importing-binary-files.html#importing-data-from-other-statistical-analysis-software"><i class="fa fa-check"></i><b>15.3</b> Importing data from other statistical analysis software<span></span></a></li>
<li class="chapter" data-level="15.4" data-path="importing-binary-files.html"><a href="importing-binary-files.html#importing-sas-data-sets"><i class="fa fa-check"></i><b>15.4</b> Importing SAS data sets<span></span></a></li>
<li class="chapter" data-level="15.5" data-path="importing-binary-files.html"><a href="importing-binary-files.html#importing-stata-data-sets"><i class="fa fa-check"></i><b>15.5</b> Importing Stata data sets<span></span></a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="rstudios-data-import-tool.html"><a href="rstudios-data-import-tool.html"><i class="fa fa-check"></i><b>16</b> RStudio’s data import tool<span></span></a></li>
<li class="chapter" data-level="17" data-path="exporting-data.html"><a href="exporting-data.html"><i class="fa fa-check"></i><b>17</b> Exporting data<span></span></a>
<ul>
<li class="chapter" data-level="17.1" data-path="exporting-data.html"><a href="exporting-data.html#plain-text-files"><i class="fa fa-check"></i><b>17.1</b> Plain text files<span></span></a></li>
<li class="chapter" data-level="17.2" data-path="exporting-data.html"><a href="exporting-data.html#r-binary-files"><i class="fa fa-check"></i><b>17.2</b> R binary files<span></span></a></li>
</ul></li>
<li class="part"><span><b>IV Descriptive Analysis<span></span></b></span></li>
<li class="chapter" data-level="18" data-path="introduction-to-descriptive-analysis.html"><a href="introduction-to-descriptive-analysis.html"><i class="fa fa-check"></i><b>18</b> Introduction to descriptive analysis<span></span></a>
<ul>
<li class="chapter" data-level="18.1" data-path="introduction-to-descriptive-analysis.html"><a href="introduction-to-descriptive-analysis.html#what-is-descriptive-analysis-and-why-would-we-do-it"><i class="fa fa-check"></i><b>18.1</b> What is descriptive analysis and why would we do it?<span></span></a></li>
<li class="chapter" data-level="18.2" data-path="introduction-to-descriptive-analysis.html"><a href="introduction-to-descriptive-analysis.html#what-kind-of-descriptive-analysis-should-we-perform"><i class="fa fa-check"></i><b>18.2</b> What kind of descriptive analysis should we perform?<span></span></a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html"><i class="fa fa-check"></i><b>19</b> Numerical descriptions of categorical variables<span></span></a>
<ul>
<li class="chapter" data-level="19.1" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#factor-vectors"><i class="fa fa-check"></i><b>19.1</b> Factor vectors<span></span></a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#coerce-a-numeric-variable"><i class="fa fa-check"></i><b>19.1.1</b> Coerce a numeric variable<span></span></a></li>
<li class="chapter" data-level="19.1.2" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#coerce-a-character-variable"><i class="fa fa-check"></i><b>19.1.2</b> Coerce a character variable<span></span></a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#height-and-weight-data"><i class="fa fa-check"></i><b>19.2</b> Height and Weight Data<span></span></a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#view-the-data"><i class="fa fa-check"></i><b>19.2.1</b> View the data<span></span></a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#calculating-frequencies"><i class="fa fa-check"></i><b>19.3</b> Calculating frequencies<span></span></a>
<ul>
<li class="chapter" data-level="19.3.1" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#the-base-r-table-function"><i class="fa fa-check"></i><b>19.3.1</b> The base R table function<span></span></a></li>
<li class="chapter" data-level="19.3.2" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#the-gmodels-crosstable-function"><i class="fa fa-check"></i><b>19.3.2</b> The gmodels CrossTable function<span></span></a></li>
<li class="chapter" data-level="19.3.3" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#the-tidyverse-way"><i class="fa fa-check"></i><b>19.3.3</b> The tidyverse way<span></span></a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#calculating-percentages"><i class="fa fa-check"></i><b>19.4</b> Calculating percentages<span></span></a></li>
<li class="chapter" data-level="19.5" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#cat-missing-data"><i class="fa fa-check"></i><b>19.5</b> Missing data<span></span></a></li>
<li class="chapter" data-level="19.6" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#formatting-results"><i class="fa fa-check"></i><b>19.6</b> Formatting results<span></span></a></li>
<li class="chapter" data-level="19.7" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#using-freqtables"><i class="fa fa-check"></i><b>19.7</b> Using freqtables<span></span></a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html"><i class="fa fa-check"></i><b>20</b> Measures of central tendency<span></span></a>
<ul>
<li class="chapter" data-level="20.1" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html#calculate-the-mean"><i class="fa fa-check"></i><b>20.1</b> Calculate the mean<span></span></a></li>
<li class="chapter" data-level="20.2" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html#calculate-the-median"><i class="fa fa-check"></i><b>20.2</b> Calculate the median<span></span></a></li>
<li class="chapter" data-level="20.3" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html#calculate-the-mode"><i class="fa fa-check"></i><b>20.3</b> Calculate the mode<span></span></a></li>
<li class="chapter" data-level="20.4" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html#compare-mean-median-and-mode"><i class="fa fa-check"></i><b>20.4</b> Compare mean, median, and mode<span></span></a></li>
<li class="chapter" data-level="20.5" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html#data-checking"><i class="fa fa-check"></i><b>20.5</b> Data checking<span></span></a></li>
<li class="chapter" data-level="20.6" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html#properties-of-mean-median-and-mode"><i class="fa fa-check"></i><b>20.6</b> Properties of mean, median, and mode<span></span></a></li>
<li class="chapter" data-level="20.7" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html#na-rm"><i class="fa fa-check"></i><b>20.7</b> Missing data<span></span></a></li>
<li class="chapter" data-level="20.8" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html#using-meantables"><i class="fa fa-check"></i><b>20.8</b> Using meantables<span></span></a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="measures-of-dispersion.html"><a href="measures-of-dispersion.html"><i class="fa fa-check"></i><b>21</b> Measures of dispersion<span></span></a>
<ul>
<li class="chapter" data-level="21.1" data-path="measures-of-dispersion.html"><a href="measures-of-dispersion.html#comparing-distributions"><i class="fa fa-check"></i><b>21.1</b> Comparing distributions<span></span></a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="describing-the-relationship-between-a-continuous-outcome-and-a-continuous-predictor.html"><a href="describing-the-relationship-between-a-continuous-outcome-and-a-continuous-predictor.html"><i class="fa fa-check"></i><b>22</b> Describing the relationship between a continuous outcome and a continuous predictor<span></span></a>
<ul>
<li class="chapter" data-level="22.1" data-path="describing-the-relationship-between-a-continuous-outcome-and-a-continuous-predictor.html"><a href="describing-the-relationship-between-a-continuous-outcome-and-a-continuous-predictor.html#pearson-correlation-coefficient"><i class="fa fa-check"></i><b>22.1</b> Pearson Correlation Coefficient<span></span></a>
<ul>
<li class="chapter" data-level="22.1.1" data-path="describing-the-relationship-between-a-continuous-outcome-and-a-continuous-predictor.html"><a href="describing-the-relationship-between-a-continuous-outcome-and-a-continuous-predictor.html#calculating-r"><i class="fa fa-check"></i><b>22.1.1</b> Calculating r<span></span></a></li>
<li class="chapter" data-level="22.1.2" data-path="describing-the-relationship-between-a-continuous-outcome-and-a-continuous-predictor.html"><a href="describing-the-relationship-between-a-continuous-outcome-and-a-continuous-predictor.html#correlation-intuition"><i class="fa fa-check"></i><b>22.1.2</b> Correlation intuition<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="describing-the-relationship-between-a-continuous-outcome-and-a-categorical-predictor.html"><a href="describing-the-relationship-between-a-continuous-outcome-and-a-categorical-predictor.html"><i class="fa fa-check"></i><b>23</b> Describing the relationship between a continuous outcome and a categorical predictor<span></span></a>
<ul>
<li class="chapter" data-level="23.1" data-path="describing-the-relationship-between-a-continuous-outcome-and-a-categorical-predictor.html"><a href="describing-the-relationship-between-a-continuous-outcome-and-a-categorical-predictor.html#single-predictor-and-single-outcome"><i class="fa fa-check"></i><b>23.1</b> Single predictor and single outcome<span></span></a></li>
<li class="chapter" data-level="23.2" data-path="describing-the-relationship-between-a-continuous-outcome-and-a-categorical-predictor.html"><a href="describing-the-relationship-between-a-continuous-outcome-and-a-categorical-predictor.html#multiple-predictors"><i class="fa fa-check"></i><b>23.2</b> Multiple predictors<span></span></a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="describing-the-relationship-between-a-categorical-outcome-and-a-categorical-predictor.html"><a href="describing-the-relationship-between-a-categorical-outcome-and-a-categorical-predictor.html"><i class="fa fa-check"></i><b>24</b> Describing the relationship between a categorical outcome and a categorical predictor<span></span></a>
<ul>
<li class="chapter" data-level="24.1" data-path="describing-the-relationship-between-a-categorical-outcome-and-a-categorical-predictor.html"><a href="describing-the-relationship-between-a-categorical-outcome-and-a-categorical-predictor.html#comparing-two-variables"><i class="fa fa-check"></i><b>24.1</b> Comparing two variables<span></span></a></li>
</ul></li>
<li class="part"><span><b>V Data Management<span></span></b></span></li>
<li class="chapter" data-level="25" data-path="introduction-to-data-management.html"><a href="introduction-to-data-management.html"><i class="fa fa-check"></i><b>25</b> Introduction to data management<span></span></a>
<ul>
<li class="chapter" data-level="25.1" data-path="introduction-to-data-management.html"><a href="introduction-to-data-management.html#multiple-paradigms-for-data-management-in-r"><i class="fa fa-check"></i><b>25.1</b> Multiple paradigms for data management in R<span></span></a></li>
<li class="chapter" data-level="25.2" data-path="introduction-to-data-management.html"><a href="introduction-to-data-management.html#the-dplyr-package"><i class="fa fa-check"></i><b>25.2</b> The dplyr package<span></span></a>
<ul>
<li class="chapter" data-level="25.2.1" data-path="introduction-to-data-management.html"><a href="introduction-to-data-management.html#the-dplyr-verbs"><i class="fa fa-check"></i><b>25.2.1</b> The dplyr verbs<span></span></a></li>
<li class="chapter" data-level="25.2.2" data-path="introduction-to-data-management.html"><a href="introduction-to-data-management.html#the-.data-argument"><i class="fa fa-check"></i><b>25.2.2</b> The .data argument<span></span></a></li>
<li class="chapter" data-level="25.2.3" data-path="introduction-to-data-management.html"><a href="introduction-to-data-management.html#the-argument"><i class="fa fa-check"></i><b>25.2.3</b> The … argument<span></span></a></li>
<li class="chapter" data-level="25.2.4" data-path="introduction-to-data-management.html"><a href="introduction-to-data-management.html#non-standard-evaluation"><i class="fa fa-check"></i><b>25.2.4</b> Non-standard evaluation<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="26" data-path="creating-and-modifying-columns.html"><a href="creating-and-modifying-columns.html"><i class="fa fa-check"></i><b>26</b> Creating and modifying columns<span></span></a>
<ul>
<li class="chapter" data-level="26.1" data-path="creating-and-modifying-columns.html"><a href="creating-and-modifying-columns.html#creating-data-frames"><i class="fa fa-check"></i><b>26.1</b> Creating data frames<span></span></a></li>
<li class="chapter" data-level="26.2" data-path="creating-and-modifying-columns.html"><a href="creating-and-modifying-columns.html#dollar-sign-notation-1"><i class="fa fa-check"></i><b>26.2</b> Dollar sign notation<span></span></a></li>
<li class="chapter" data-level="26.3" data-path="creating-and-modifying-columns.html"><a href="creating-and-modifying-columns.html#bracket-notation-1"><i class="fa fa-check"></i><b>26.3</b> Bracket notation<span></span></a></li>
<li class="chapter" data-level="26.4" data-path="creating-and-modifying-columns.html"><a href="creating-and-modifying-columns.html#modify-individual-values"><i class="fa fa-check"></i><b>26.4</b> Modify individual values<span></span></a></li>
<li class="chapter" data-level="26.5" data-path="creating-and-modifying-columns.html"><a href="creating-and-modifying-columns.html#the-mutate-function"><i class="fa fa-check"></i><b>26.5</b> The mutate() function<span></span></a>
<ul>
<li class="chapter" data-level="26.5.1" data-path="creating-and-modifying-columns.html"><a href="creating-and-modifying-columns.html#adding-or-modifying-a-single-column"><i class="fa fa-check"></i><b>26.5.1</b> Adding or modifying a single column<span></span></a></li>
<li class="chapter" data-level="26.5.2" data-path="creating-and-modifying-columns.html"><a href="creating-and-modifying-columns.html#recycling-rules"><i class="fa fa-check"></i><b>26.5.2</b> Recycling rules<span></span></a></li>
<li class="chapter" data-level="26.5.3" data-path="creating-and-modifying-columns.html"><a href="creating-and-modifying-columns.html#using-existing-variables-in-name-value-pairs"><i class="fa fa-check"></i><b>26.5.3</b> Using existing variables in name-value pairs<span></span></a></li>
<li class="chapter" data-level="26.5.4" data-path="creating-and-modifying-columns.html"><a href="creating-and-modifying-columns.html#adding-or-modifying-multiple-columns"><i class="fa fa-check"></i><b>26.5.4</b> Adding or modifying multiple columns<span></span></a></li>
<li class="chapter" data-level="26.5.5" data-path="creating-and-modifying-columns.html"><a href="creating-and-modifying-columns.html#rowwise-mutations"><i class="fa fa-check"></i><b>26.5.5</b> Rowwise mutations<span></span></a></li>
<li class="chapter" data-level="26.5.6" data-path="creating-and-modifying-columns.html"><a href="creating-and-modifying-columns.html#group_by-mutations"><i class="fa fa-check"></i><b>26.5.6</b> Group_by mutations<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="27" data-path="subsetting-data-frames.html"><a href="subsetting-data-frames.html"><i class="fa fa-check"></i><b>27</b> Subsetting data frames<span></span></a>
<ul>
<li class="chapter" data-level="27.1" data-path="subsetting-data-frames.html"><a href="subsetting-data-frames.html#the-select-function"><i class="fa fa-check"></i><b>27.1</b> The select() function<span></span></a></li>
<li class="chapter" data-level="27.2" data-path="subsetting-data-frames.html"><a href="subsetting-data-frames.html#the-rename-function"><i class="fa fa-check"></i><b>27.2</b> The rename() function<span></span></a></li>
<li class="chapter" data-level="27.3" data-path="subsetting-data-frames.html"><a href="subsetting-data-frames.html#the-filter-function"><i class="fa fa-check"></i><b>27.3</b> The filter() function<span></span></a>
<ul>
<li class="chapter" data-level="27.3.1" data-path="subsetting-data-frames.html"><a href="subsetting-data-frames.html#subgroup-analysis"><i class="fa fa-check"></i><b>27.3.1</b> Subgroup analysis<span></span></a></li>
<li class="chapter" data-level="27.3.2" data-path="subsetting-data-frames.html"><a href="subsetting-data-frames.html#complete-case-analysis"><i class="fa fa-check"></i><b>27.3.2</b> Complete case analysis<span></span></a></li>
</ul></li>
<li class="chapter" data-level="27.4" data-path="subsetting-data-frames.html"><a href="subsetting-data-frames.html#deduplication"><i class="fa fa-check"></i><b>27.4</b> Deduplication<span></span></a>
<ul>
<li class="chapter" data-level="27.4.1" data-path="subsetting-data-frames.html"><a href="subsetting-data-frames.html#the-distinct-function"><i class="fa fa-check"></i><b>27.4.1</b> The distinct() function<span></span></a></li>
<li class="chapter" data-level="27.4.2" data-path="subsetting-data-frames.html"><a href="subsetting-data-frames.html#complete-duplicate-row-add-tag"><i class="fa fa-check"></i><b>27.4.2</b> Complete duplicate row add tag<span></span></a></li>
<li class="chapter" data-level="27.4.3" data-path="subsetting-data-frames.html"><a href="subsetting-data-frames.html#partial-duplicate-rows"><i class="fa fa-check"></i><b>27.4.3</b> Partial duplicate rows<span></span></a></li>
<li class="chapter" data-level="27.4.4" data-path="subsetting-data-frames.html"><a href="subsetting-data-frames.html#partial-duplicate-rows---add-tag"><i class="fa fa-check"></i><b>27.4.4</b> Partial duplicate rows - add tag<span></span></a></li>
<li class="chapter" data-level="27.4.5" data-path="subsetting-data-frames.html"><a href="subsetting-data-frames.html#count-the-number-of-duplicates"><i class="fa fa-check"></i><b>27.4.5</b> Count the number of duplicates<span></span></a></li>
<li class="chapter" data-level="27.4.6" data-path="subsetting-data-frames.html"><a href="subsetting-data-frames.html#what-to-do-about-duplicates"><i class="fa fa-check"></i><b>27.4.6</b> What to do about duplicates<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="28" data-path="working-with-dates.html"><a href="working-with-dates.html"><i class="fa fa-check"></i><b>28</b> Working with dates<span></span></a>
<ul>
<li class="chapter" data-level="28.1" data-path="working-with-dates.html"><a href="working-with-dates.html#date-vector-types"><i class="fa fa-check"></i><b>28.1</b> Date vector types<span></span></a></li>
<li class="chapter" data-level="28.2" data-path="working-with-dates.html"><a href="working-with-dates.html#dates-under-the-hood"><i class="fa fa-check"></i><b>28.2</b> Dates under the hood<span></span></a></li>
<li class="chapter" data-level="28.3" data-path="working-with-dates.html"><a href="working-with-dates.html#coercing-date-times-to-dates"><i class="fa fa-check"></i><b>28.3</b> Coercing date-times to dates<span></span></a></li>
<li class="chapter" data-level="28.4" data-path="working-with-dates.html"><a href="working-with-dates.html#coercing-character-strings-to-dates"><i class="fa fa-check"></i><b>28.4</b> Coercing character strings to dates<span></span></a></li>
<li class="chapter" data-level="28.5" data-path="working-with-dates.html"><a href="working-with-dates.html#change-the-appearance-of-dates-with-format"><i class="fa fa-check"></i><b>28.5</b> Change the appearance of dates with format()<span></span></a></li>
<li class="chapter" data-level="28.6" data-path="working-with-dates.html"><a href="working-with-dates.html#some-useful-built-in-dates"><i class="fa fa-check"></i><b>28.6</b> Some useful built-in dates<span></span></a>
<ul>
<li class="chapter" data-level="28.6.1" data-path="working-with-dates.html"><a href="working-with-dates.html#todays-date"><i class="fa fa-check"></i><b>28.6.1</b> Today’s date<span></span></a></li>
<li class="chapter" data-level="28.6.2" data-path="working-with-dates.html"><a href="working-with-dates.html#todays-date-time"><i class="fa fa-check"></i><b>28.6.2</b> Today’s date-time<span></span></a></li>
<li class="chapter" data-level="28.6.3" data-path="working-with-dates.html"><a href="working-with-dates.html#character-vector-of-full-month-names"><i class="fa fa-check"></i><b>28.6.3</b> Character vector of full month names<span></span></a></li>
<li class="chapter" data-level="28.6.4" data-path="working-with-dates.html"><a href="working-with-dates.html#character-vector-of-abbreviated-month-names"><i class="fa fa-check"></i><b>28.6.4</b> Character vector of abbreviated month names<span></span></a></li>
<li class="chapter" data-level="28.6.5" data-path="working-with-dates.html"><a href="working-with-dates.html#creating-a-vector-containing-a-sequence-of-dates"><i class="fa fa-check"></i><b>28.6.5</b> Creating a vector containing a sequence of dates<span></span></a></li>
</ul></li>
<li class="chapter" data-level="28.7" data-path="working-with-dates.html"><a href="working-with-dates.html#calculating-date-intervals"><i class="fa fa-check"></i><b>28.7</b> Calculating date intervals<span></span></a>
<ul>
<li class="chapter" data-level="28.7.1" data-path="working-with-dates.html"><a href="working-with-dates.html#calculate-age-as-the-difference-in-time-between-dob-and-today"><i class="fa fa-check"></i><b>28.7.1</b> Calculate age as the difference in time between dob and today<span></span></a></li>
<li class="chapter" data-level="28.7.2" data-path="working-with-dates.html"><a href="working-with-dates.html#rounding-time-intervals"><i class="fa fa-check"></i><b>28.7.2</b> Rounding time intervals<span></span></a></li>
</ul></li>
<li class="chapter" data-level="28.8" data-path="working-with-dates.html"><a href="working-with-dates.html#extracting-out-date-parts"><i class="fa fa-check"></i><b>28.8</b> Extracting out date parts<span></span></a></li>
<li class="chapter" data-level="28.9" data-path="working-with-dates.html"><a href="working-with-dates.html#sorting-dates"><i class="fa fa-check"></i><b>28.9</b> Sorting dates<span></span></a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="working-with-character-strings.html"><a href="working-with-character-strings.html"><i class="fa fa-check"></i><b>29</b> Working with character strings<span></span></a>
<ul>
<li class="chapter" data-level="29.1" data-path="working-with-character-strings.html"><a href="working-with-character-strings.html#coerce-to-lowercase"><i class="fa fa-check"></i><b>29.1</b> Coerce to lowercase<span></span></a>
<ul>
<li class="chapter" data-level="29.1.1" data-path="working-with-character-strings.html"><a href="working-with-character-strings.html#lowercase"><i class="fa fa-check"></i><b>29.1.1</b> Lowercase<span></span></a></li>
<li class="chapter" data-level="29.1.2" data-path="working-with-character-strings.html"><a href="working-with-character-strings.html#upper-case"><i class="fa fa-check"></i><b>29.1.2</b> Upper case<span></span></a></li>
<li class="chapter" data-level="29.1.3" data-path="working-with-character-strings.html"><a href="working-with-character-strings.html#title-case"><i class="fa fa-check"></i><b>29.1.3</b> Title case<span></span></a></li>
<li class="chapter" data-level="29.1.4" data-path="working-with-character-strings.html"><a href="working-with-character-strings.html#sentence-case"><i class="fa fa-check"></i><b>29.1.4</b> Sentence case<span></span></a></li>
</ul></li>
<li class="chapter" data-level="29.2" data-path="working-with-character-strings.html"><a href="working-with-character-strings.html#trim-white-space"><i class="fa fa-check"></i><b>29.2</b> Trim white space<span></span></a></li>
<li class="chapter" data-level="29.3" data-path="working-with-character-strings.html"><a href="working-with-character-strings.html#regular-expressions"><i class="fa fa-check"></i><b>29.3</b> Regular expressions<span></span></a>
<ul>
<li class="chapter" data-level="29.3.1" data-path="working-with-character-strings.html"><a href="working-with-character-strings.html#remove-the-comma"><i class="fa fa-check"></i><b>29.3.1</b> Remove the comma<span></span></a></li>
<li class="chapter" data-level="29.3.2" data-path="working-with-character-strings.html"><a href="working-with-character-strings.html#remove-middle-initial"><i class="fa fa-check"></i><b>29.3.2</b> Remove middle initial<span></span></a></li>
<li class="chapter" data-level="29.3.3" data-path="working-with-character-strings.html"><a href="working-with-character-strings.html#remove-double-spaces"><i class="fa fa-check"></i><b>29.3.3</b> Remove double spaces<span></span></a></li>
</ul></li>
<li class="chapter" data-level="29.4" data-path="working-with-character-strings.html"><a href="working-with-character-strings.html#separate-values-into-component-parts"><i class="fa fa-check"></i><b>29.4</b> Separate values into component parts<span></span></a></li>
<li class="chapter" data-level="29.5" data-path="working-with-character-strings.html"><a href="working-with-character-strings.html#dummy-variables"><i class="fa fa-check"></i><b>29.5</b> Dummy variables<span></span></a></li>
</ul></li>
<li class="chapter" data-level="30" data-path="conditional-operations.html"><a href="conditional-operations.html"><i class="fa fa-check"></i><b>30</b> Conditional operations<span></span></a>
<ul>
<li class="chapter" data-level="30.1" data-path="conditional-operations.html"><a href="conditional-operations.html#operands-and-operators"><i class="fa fa-check"></i><b>30.1</b> Operands and operators<span></span></a></li>
<li class="chapter" data-level="30.2" data-path="conditional-operations.html"><a href="conditional-operations.html#testing-multiple-conditions-simultaneously"><i class="fa fa-check"></i><b>30.2</b> Testing multiple conditions simultaneously<span></span></a></li>
<li class="chapter" data-level="30.3" data-path="conditional-operations.html"><a href="conditional-operations.html#testing-a-sequence-of-conditions"><i class="fa fa-check"></i><b>30.3</b> Testing a sequence of conditions<span></span></a></li>
<li class="chapter" data-level="30.4" data-path="conditional-operations.html"><a href="conditional-operations.html#recoding-variables"><i class="fa fa-check"></i><b>30.4</b> Recoding variables<span></span></a></li>
<li class="chapter" data-level="30.5" data-path="conditional-operations.html"><a href="conditional-operations.html#case_when-is-lazy"><i class="fa fa-check"></i><b>30.5</b> case_when() is lazy<span></span></a></li>
<li class="chapter" data-level="30.6" data-path="conditional-operations.html"><a href="conditional-operations.html#recode-missing"><i class="fa fa-check"></i><b>30.6</b> Recode missing<span></span></a></li>
</ul></li>
<li class="chapter" data-level="31" data-path="working-with-multiple-data-frames.html"><a href="working-with-multiple-data-frames.html"><i class="fa fa-check"></i><b>31</b> Working with multiple data frames<span></span></a>
<ul>
<li class="chapter" data-level="31.1" data-path="working-with-multiple-data-frames.html"><a href="working-with-multiple-data-frames.html#combining-data-frames-vertically-adding-rows"><i class="fa fa-check"></i><b>31.1</b> Combining data frames vertically: Adding rows<span></span></a>
<ul>
<li class="chapter" data-level="31.1.1" data-path="working-with-multiple-data-frames.html"><a href="working-with-multiple-data-frames.html#combining-more-than-2-data-frames"><i class="fa fa-check"></i><b>31.1.1</b> Combining more than 2 data frames<span></span></a></li>
<li class="chapter" data-level="31.1.2" data-path="working-with-multiple-data-frames.html"><a href="working-with-multiple-data-frames.html#adding-rows-with-differing-columns"><i class="fa fa-check"></i><b>31.1.2</b> Adding rows with differing columns<span></span></a></li>
<li class="chapter" data-level="31.1.3" data-path="working-with-multiple-data-frames.html"><a href="working-with-multiple-data-frames.html#differing-column-positions"><i class="fa fa-check"></i><b>31.1.3</b> Differing column positions<span></span></a></li>
<li class="chapter" data-level="31.1.4" data-path="working-with-multiple-data-frames.html"><a href="working-with-multiple-data-frames.html#differing-column-names"><i class="fa fa-check"></i><b>31.1.4</b> Differing column names<span></span></a></li>
</ul></li>
<li class="chapter" data-level="31.2" data-path="working-with-multiple-data-frames.html"><a href="working-with-multiple-data-frames.html#combining-data-frames-horizontally-adding-columns"><i class="fa fa-check"></i><b>31.2</b> Combining data frames horizontally: Adding columns<span></span></a>
<ul>
<li class="chapter" data-level="31.2.1" data-path="working-with-multiple-data-frames.html"><a href="working-with-multiple-data-frames.html#combining-data-frames-horizontally-by-position"><i class="fa fa-check"></i><b>31.2.1</b> Combining data frames horizontally by position<span></span></a></li>
<li class="chapter" data-level="31.2.2" data-path="working-with-multiple-data-frames.html"><a href="working-with-multiple-data-frames.html#combining-data-frames-horizontally-by-key-values"><i class="fa fa-check"></i><b>31.2.2</b> Combining data frames horizontally by key values<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="32" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html"><i class="fa fa-check"></i><b>32</b> Restructuring data frames<span></span></a>
<ul>
<li class="chapter" data-level="32.1" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#the-tidyr-package"><i class="fa fa-check"></i><b>32.1</b> The tidyr package<span></span></a></li>
<li class="chapter" data-level="32.2" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#pivoting-longer"><i class="fa fa-check"></i><b>32.2</b> Pivoting longer<span></span></a>
<ul>
<li class="chapter" data-level="32.2.1" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#the-names_to-argument"><i class="fa fa-check"></i><b>32.2.1</b> The names_to argument<span></span></a></li>
<li class="chapter" data-level="32.2.2" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#the-names_prefix-argument"><i class="fa fa-check"></i><b>32.2.2</b> The names_prefix argument<span></span></a></li>
<li class="chapter" data-level="32.2.3" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#the-values_to-argument"><i class="fa fa-check"></i><b>32.2.3</b> The values_to argument<span></span></a></li>
<li class="chapter" data-level="32.2.4" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#the-names_transform-argument"><i class="fa fa-check"></i><b>32.2.4</b> The names_transform argument<span></span></a></li>
<li class="chapter" data-level="32.2.5" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#pivoting-multiple-sets-of-columns"><i class="fa fa-check"></i><b>32.2.5</b> Pivoting multiple sets of columns<span></span></a></li>
<li class="chapter" data-level="32.2.6" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#the-names_sep-argument"><i class="fa fa-check"></i><b>32.2.6</b> The names_sep argument<span></span></a></li>
<li class="chapter" data-level="32.2.7" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#the-.value-special-value"><i class="fa fa-check"></i><b>32.2.7</b> The .value special value<span></span></a></li>
<li class="chapter" data-level="32.2.8" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#why-person-period"><i class="fa fa-check"></i><b>32.2.8</b> Why person-period?<span></span></a></li>
</ul></li>
<li class="chapter" data-level="32.3" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#pivoting-wider"><i class="fa fa-check"></i><b>32.3</b> Pivoting wider<span></span></a>
<ul>
<li class="chapter" data-level="32.3.1" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#why-person-level"><i class="fa fa-check"></i><b>32.3.1</b> Why person-level?<span></span></a></li>
</ul></li>
<li class="chapter" data-level="32.4" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#pivoting-summary-statistics"><i class="fa fa-check"></i><b>32.4</b> Pivoting summary statistics<span></span></a>
<ul>
<li class="chapter" data-level="32.4.1" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#pivoting-summary-statistics-wide-to-long"><i class="fa fa-check"></i><b>32.4.1</b> Pivoting summary statistics wide to long<span></span></a></li>
<li class="chapter" data-level="32.4.2" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#pivoting-summary-statistics-long-to-wide"><i class="fa fa-check"></i><b>32.4.2</b> Pivoting summary statistics long to wide<span></span></a></li>
</ul></li>
<li class="chapter" data-level="32.5" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#tidy-data"><i class="fa fa-check"></i><b>32.5</b> Tidy data<span></span></a>
<ul>
<li class="chapter" data-level="32.5.1" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#each-variable-must-have-its-own-column"><i class="fa fa-check"></i><b>32.5.1</b> Each variable must have its own column<span></span></a></li>
<li class="chapter" data-level="32.5.2" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#each-observation-must-have-its-own-row"><i class="fa fa-check"></i><b>32.5.2</b> Each observation must have its own row<span></span></a></li>
<li class="chapter" data-level="32.5.3" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#each-value-must-have-its-own-cell"><i class="fa fa-check"></i><b>32.5.3</b> Each value must have its own cell<span></span></a></li>
</ul></li>
<li class="chapter" data-level="32.6" data-path="restructuring-data-frames.html"><a href="restructuring-data-frames.html#the-complete-function"><i class="fa fa-check"></i><b>32.6</b> The complete() function<span></span></a></li>
</ul></li>
<li class="part"><span><b>VI Repeated Operations<span></span></b></span></li>
<li class="chapter" data-level="33" data-path="introduction-to-repeated-operations.html"><a href="introduction-to-repeated-operations.html"><i class="fa fa-check"></i><b>33</b> Introduction to repeated operations<span></span></a>
<ul>
<li class="chapter" data-level="33.1" data-path="introduction-to-repeated-operations.html"><a href="introduction-to-repeated-operations.html#multiple-methods-for-repeated-operations-in-r"><i class="fa fa-check"></i><b>33.1</b> Multiple methods for repeated operations in R<span></span></a></li>
<li class="chapter" data-level="33.2" data-path="introduction-to-repeated-operations.html"><a href="introduction-to-repeated-operations.html#tidy-evaluation"><i class="fa fa-check"></i><b>33.2</b> Tidy evaluation<span></span></a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="writing-functions.html"><a href="writing-functions.html"><i class="fa fa-check"></i><b>34</b> Writing functions<span></span></a>
<ul>
<li class="chapter" data-level="34.1" data-path="writing-functions.html"><a href="writing-functions.html#when-to-write-functions"><i class="fa fa-check"></i><b>34.1</b> When to write functions<span></span></a></li>
<li class="chapter" data-level="34.2" data-path="writing-functions.html"><a href="writing-functions.html#how-to-write-functions"><i class="fa fa-check"></i><b>34.2</b> How to write functions<span></span></a>
<ul>
<li class="chapter" data-level="34.2.1" data-path="writing-functions.html"><a href="writing-functions.html#the-function-function"><i class="fa fa-check"></i><b>34.2.1</b> The function() function<span></span></a></li>
<li class="chapter" data-level="34.2.2" data-path="writing-functions.html"><a href="writing-functions.html#the-function-writing-process"><i class="fa fa-check"></i><b>34.2.2</b> The function writing process<span></span></a></li>
</ul></li>
<li class="chapter" data-level="34.3" data-path="writing-functions.html"><a href="writing-functions.html#giving-your-function-arguments-default-values"><i class="fa fa-check"></i><b>34.3</b> Giving your function arguments default values<span></span></a></li>
<li class="chapter" data-level="34.4" data-path="writing-functions.html"><a href="writing-functions.html#the-values-your-functions-return"><i class="fa fa-check"></i><b>34.4</b> The values your functions return<span></span></a></li>
<li class="chapter" data-level="34.5" data-path="writing-functions.html"><a href="writing-functions.html#lexical-scoping-and-functions"><i class="fa fa-check"></i><b>34.5</b> Lexical scoping and functions<span></span></a></li>
<li class="chapter" data-level="34.6" data-path="writing-functions.html"><a href="writing-functions.html#tidy-evaluation-1"><i class="fa fa-check"></i><b>34.6</b> Tidy evaluation<span></span></a></li>
</ul></li>
<li class="chapter" data-level="35" data-path="column-wise-operations-in-dplyr.html"><a href="column-wise-operations-in-dplyr.html"><i class="fa fa-check"></i><b>35</b> Column-wise operations in dplyr<span></span></a>
<ul>
<li class="chapter" data-level="35.1" data-path="column-wise-operations-in-dplyr.html"><a href="column-wise-operations-in-dplyr.html#the-across-function"><i class="fa fa-check"></i><b>35.1</b> The across() function<span></span></a></li>
<li class="chapter" data-level="35.2" data-path="column-wise-operations-in-dplyr.html"><a href="column-wise-operations-in-dplyr.html#across-with-mutate"><i class="fa fa-check"></i><b>35.2</b> Across with mutate<span></span></a></li>
<li class="chapter" data-level="35.3" data-path="column-wise-operations-in-dplyr.html"><a href="column-wise-operations-in-dplyr.html#across-with-summarise"><i class="fa fa-check"></i><b>35.3</b> Across with summarise<span></span></a></li>
<li class="chapter" data-level="35.4" data-path="column-wise-operations-in-dplyr.html"><a href="column-wise-operations-in-dplyr.html#across-with-filter"><i class="fa fa-check"></i><b>35.4</b> Across with filter<span></span></a></li>
<li class="chapter" data-level="35.5" data-path="column-wise-operations-in-dplyr.html"><a href="column-wise-operations-in-dplyr.html#summary-2"><i class="fa fa-check"></i><b>35.5</b> Summary<span></span></a></li>
</ul></li>
<li class="chapter" data-level="36" data-path="writing-for-loops.html"><a href="writing-for-loops.html"><i class="fa fa-check"></i><b>36</b> Writing for loops<span></span></a>
<ul>
<li class="chapter" data-level="36.1" data-path="writing-for-loops.html"><a href="writing-for-loops.html#how-to-write-for-loops"><i class="fa fa-check"></i><b>36.1</b> How to write for loops<span></span></a>
<ul>
<li class="chapter" data-level="36.1.1" data-path="writing-for-loops.html"><a href="writing-for-loops.html#the-for-loop-body"><i class="fa fa-check"></i><b>36.1.1</b> The for loop body<span></span></a></li>
<li class="chapter" data-level="36.1.2" data-path="writing-for-loops.html"><a href="writing-for-loops.html#the-for-function"><i class="fa fa-check"></i><b>36.1.2</b> The for() function<span></span></a></li>
</ul></li>
<li class="chapter" data-level="36.2" data-path="writing-for-loops.html"><a href="writing-for-loops.html#using-for-loops-for-data-transfer"><i class="fa fa-check"></i><b>36.2</b> Using for loops for data transfer<span></span></a></li>
<li class="chapter" data-level="36.3" data-path="writing-for-loops.html"><a href="writing-for-loops.html#using-for-loops-for-data-management"><i class="fa fa-check"></i><b>36.3</b> Using for loops for data management<span></span></a></li>
<li class="chapter" data-level="36.4" data-path="writing-for-loops.html"><a href="writing-for-loops.html#using-for-loops-for-analysis"><i class="fa fa-check"></i><b>36.4</b> Using for loops for analysis<span></span></a></li>
</ul></li>
<li class="chapter" data-level="37" data-path="using-the-purrr-package.html"><a href="using-the-purrr-package.html"><i class="fa fa-check"></i><b>37</b> Using the purrr package<span></span></a>
<ul>
<li class="chapter" data-level="37.1" data-path="using-the-purrr-package.html"><a href="using-the-purrr-package.html#comparing-for-loops-and-the-map-functions"><i class="fa fa-check"></i><b>37.1</b> Comparing for loops and the map functions<span></span></a></li>
<li class="chapter" data-level="37.2" data-path="using-the-purrr-package.html"><a href="using-the-purrr-package.html#using-purrr-for-data-transfer"><i class="fa fa-check"></i><b>37.2</b> Using purrr for data transfer<span></span></a>
<ul>
<li class="chapter" data-level="37.2.1" data-path="using-the-purrr-package.html"><a href="using-the-purrr-package.html#example-1-importing-multiple-sheets-from-an-excel-workbook"><i class="fa fa-check"></i><b>37.2.1</b> Example 1: Importing multiple sheets from an Excel workbook<span></span></a></li>
<li class="chapter" data-level="37.2.2" data-path="using-the-purrr-package.html"><a href="using-the-purrr-package.html#why-walk-instead-of-map"><i class="fa fa-check"></i><b>37.2.2</b> Why walk instead of map?<span></span></a></li>
<li class="chapter" data-level="37.2.3" data-path="using-the-purrr-package.html"><a href="using-the-purrr-package.html#why-we-didnt-assign-the-return-value-of-walk-to-an-object"><i class="fa fa-check"></i><b>37.2.3</b> why we didn’t assign the return value of <code>walk()</code> to an object?<span></span></a></li>
</ul></li>
<li class="chapter" data-level="37.3" data-path="using-the-purrr-package.html"><a href="using-the-purrr-package.html#using-purrr-for-data-management"><i class="fa fa-check"></i><b>37.3</b> Using purrr for data management<span></span></a>
<ul>
<li class="chapter" data-level="37.3.1" data-path="using-the-purrr-package.html"><a href="using-the-purrr-package.html#example-1-adding-na-at-multiple-positions"><i class="fa fa-check"></i><b>37.3.1</b> Example 1: Adding NA at multiple positions<span></span></a></li>
<li class="chapter" data-level="37.3.2" data-path="using-the-purrr-package.html"><a href="using-the-purrr-package.html#example-2.-detecting-matching-values-by-position"><i class="fa fa-check"></i><b>37.3.2</b> Example 2. Detecting matching values by position<span></span></a></li>
</ul></li>
<li class="chapter" data-level="37.4" data-path="using-the-purrr-package.html"><a href="using-the-purrr-package.html#using-purrr-for-analysis"><i class="fa fa-check"></i><b>37.4</b> Using purrr for analysis<span></span></a>
<ul>
<li class="chapter" data-level="37.4.1" data-path="using-the-purrr-package.html"><a href="using-the-purrr-package.html#example-1-continuous-statistics"><i class="fa fa-check"></i><b>37.4.1</b> Example 1: Continuous statistics<span></span></a></li>
<li class="chapter" data-level="37.4.2" data-path="using-the-purrr-package.html"><a href="using-the-purrr-package.html#example-2-categorical-statistics"><i class="fa fa-check"></i><b>37.4.2</b> Example 2: Categorical statistics<span></span></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>VII Collaboration<span></span></b></span></li>
<li class="chapter" data-level="38" data-path="introduction-to-git-and-github.html"><a href="introduction-to-git-and-github.html"><i class="fa fa-check"></i><b>38</b> Introduction to git and GitHub<span></span></a>
<ul>
<li class="chapter" data-level="38.1" data-path="introduction-to-git-and-github.html"><a href="introduction-to-git-and-github.html#versioning"><i class="fa fa-check"></i><b>38.1</b> Versioning<span></span></a></li>
<li class="chapter" data-level="38.2" data-path="introduction-to-git-and-github.html"><a href="introduction-to-git-and-github.html#preservation"><i class="fa fa-check"></i><b>38.2</b> Preservation<span></span></a></li>
<li class="chapter" data-level="38.3" data-path="introduction-to-git-and-github.html"><a href="introduction-to-git-and-github.html#reproducibility"><i class="fa fa-check"></i><b>38.3</b> Reproducibility<span></span></a></li>
<li class="chapter" data-level="38.4" data-path="introduction-to-git-and-github.html"><a href="introduction-to-git-and-github.html#collaboration"><i class="fa fa-check"></i><b>38.4</b> Collaboration<span></span></a></li>
<li class="chapter" data-level="38.5" data-path="introduction-to-git-and-github.html"><a href="introduction-to-git-and-github.html#summary-3"><i class="fa fa-check"></i><b>38.5</b> Summary<span></span></a></li>
</ul></li>
<li class="chapter" data-level="39" data-path="using-git-and-github.html"><a href="using-git-and-github.html"><i class="fa fa-check"></i><b>39</b> Using git and GitHub<span></span></a>
<ul>
<li class="chapter" data-level="39.1" data-path="using-git-and-github.html"><a href="using-git-and-github.html#install-git"><i class="fa fa-check"></i><b>39.1</b> Install git<span></span></a></li>
<li class="chapter" data-level="39.2" data-path="using-git-and-github.html"><a href="using-git-and-github.html#sign-up-for-a-github-account"><i class="fa fa-check"></i><b>39.2</b> Sign up for a GitHub account<span></span></a></li>
<li class="chapter" data-level="39.3" data-path="using-git-and-github.html"><a href="using-git-and-github.html#install-gitkraken"><i class="fa fa-check"></i><b>39.3</b> Install GitKraken<span></span></a></li>
<li class="chapter" data-level="39.4" data-path="using-git-and-github.html"><a href="using-git-and-github.html#example-1-contribute-to-r4epi"><i class="fa fa-check"></i><b>39.4</b> Example 1: Contribute to R4Epi<span></span></a></li>
<li class="chapter" data-level="39.5" data-path="using-git-and-github.html"><a href="using-git-and-github.html#example-2-create-a-repository-for-a-research-project"><i class="fa fa-check"></i><b>39.5</b> Example 2: Create a repository for a research project<span></span></a>
<ul>
<li><a href="using-git-and-github.html#step-1-create-a-repository-on-github">Step 1: Create a repository on GitHub<span></span></a></li>
<li><a href="using-git-and-github.html#step-2-clone-the-repository-to-your-computer">Step 2: Clone the repository to your computer<span></span></a></li>
<li><a href="using-git-and-github.html#step-3-add-an-r-project-file-to-the-repository">Step 3: Add an R project file to the repository<span></span></a></li>
<li><a href="using-git-and-github.html#step-4-update-and-commit-gitignore">Step 4: Update and commit gitignore<span></span></a></li>
<li><a href="using-git-and-github.html#step-5-keep-adding-and-committing-files">Step 5: Keep adding and committing files<span></span></a></li>
</ul></li>
<li class="chapter" data-level="39.6" data-path="using-git-and-github.html"><a href="using-git-and-github.html#committing-and-pushing"><i class="fa fa-check"></i><b>39.6</b> Committing and pushing<span></span></a></li>
<li class="chapter" data-level="39.7" data-path="using-git-and-github.html"><a href="using-git-and-github.html#example-3-contribute-to-a-research-project"><i class="fa fa-check"></i><b>39.7</b> Example 3: Contribute to a research project<span></span></a>
<ul>
<li class="chapter" data-level="39.7.1" data-path="using-git-and-github.html"><a href="using-git-and-github.html#forking-a-repository"><i class="fa fa-check"></i><b>39.7.1</b> Forking a repository<span></span></a></li>
<li class="chapter" data-level="39.7.2" data-path="using-git-and-github.html"><a href="using-git-and-github.html#creating-a-pull-request"><i class="fa fa-check"></i><b>39.7.2</b> Creating a pull request<span></span></a></li>
</ul></li>
<li class="chapter" data-level="39.8" data-path="using-git-and-github.html"><a href="using-git-and-github.html#summary-4"><i class="fa fa-check"></i><b>39.8</b> Summary<span></span></a></li>
</ul></li>
<li class="part"><span><b>VIII Presenting Results<span></span></b></span></li>
<li class="chapter" data-level="40" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html"><i class="fa fa-check"></i><b>40</b> Creating tables with R and Microsoft Word<span></span></a>
<ul>
<li class="chapter" data-level="40.1" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#table-1"><i class="fa fa-check"></i><b>40.1</b> Table 1<span></span></a></li>
<li class="chapter" data-level="40.2" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#opioid-drug-use"><i class="fa fa-check"></i><b>40.2</b> Opioid drug use<span></span></a></li>
<li class="chapter" data-level="40.3" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#table-columns"><i class="fa fa-check"></i><b>40.3</b> Table columns<span></span></a></li>
<li class="chapter" data-level="40.4" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#table-rows"><i class="fa fa-check"></i><b>40.4</b> Table rows<span></span></a></li>
<li class="chapter" data-level="40.5" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#make-the-table-skeleton"><i class="fa fa-check"></i><b>40.5</b> Make the table skeleton<span></span></a></li>
<li class="chapter" data-level="40.6" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#fill-in-column-headers"><i class="fa fa-check"></i><b>40.6</b> Fill in column headers<span></span></a>
<ul>
<li class="chapter" data-level="40.6.1" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#group-sample-sizes"><i class="fa fa-check"></i><b>40.6.1</b> Group sample sizes<span></span></a></li>
<li class="chapter" data-level="40.6.2" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#formatting-column-headers"><i class="fa fa-check"></i><b>40.6.2</b> Formatting column headers<span></span></a></li>
</ul></li>
<li class="chapter" data-level="40.7" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#fill-in-row-headers"><i class="fa fa-check"></i><b>40.7</b> Fill in row headers<span></span></a>
<ul>
<li class="chapter" data-level="40.7.1" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#label-statistics"><i class="fa fa-check"></i><b>40.7.1</b> Label statistics<span></span></a></li>
<li class="chapter" data-level="40.7.2" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#formatting-row-headers"><i class="fa fa-check"></i><b>40.7.2</b> Formatting row headers<span></span></a></li>
</ul></li>
<li class="chapter" data-level="40.8" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#fill-in-data-values"><i class="fa fa-check"></i><b>40.8</b> Fill in data values<span></span></a>
<ul>
<li class="chapter" data-level="40.8.1" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#manually-type-values"><i class="fa fa-check"></i><b>40.8.1</b> Manually type values<span></span></a></li>
<li class="chapter" data-level="40.8.2" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#copy-and-paste-values"><i class="fa fa-check"></i><b>40.8.2</b> Copy and paste values<span></span></a></li>
<li class="chapter" data-level="40.8.3" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#knit-a-word-document"><i class="fa fa-check"></i><b>40.8.3</b> Knit a Word document<span></span></a></li>
<li class="chapter" data-level="40.8.4" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#flextable-and-officer"><i class="fa fa-check"></i><b>40.8.4</b> flextable and officer<span></span></a></li>
<li class="chapter" data-level="40.8.5" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#significant-digits"><i class="fa fa-check"></i><b>40.8.5</b> Significant digits<span></span></a></li>
<li class="chapter" data-level="40.8.6" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#formatting-data-values"><i class="fa fa-check"></i><b>40.8.6</b> Formatting data values<span></span></a></li>
</ul></li>
<li class="chapter" data-level="40.9" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#fill-in-title"><i class="fa fa-check"></i><b>40.9</b> Fill in title<span></span></a></li>
<li class="chapter" data-level="40.10" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#fill-in-footnotes"><i class="fa fa-check"></i><b>40.10</b> Fill in footnotes<span></span></a>
<ul>
<li class="chapter" data-level="40.10.1" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#formatting-footnotes"><i class="fa fa-check"></i><b>40.10.1</b> Formatting footnotes<span></span></a></li>
</ul></li>
<li class="chapter" data-level="40.11" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#final-formatting"><i class="fa fa-check"></i><b>40.11</b> Final formatting<span></span></a>
<ul>
<li class="chapter" data-level="40.11.1" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#adjust-column-widths"><i class="fa fa-check"></i><b>40.11.1</b> Adjust column widths<span></span></a></li>
<li class="chapter" data-level="40.11.2" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#merge-cells"><i class="fa fa-check"></i><b>40.11.2</b> Merge cells<span></span></a></li>
<li class="chapter" data-level="40.11.3" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#remove-cell-borders"><i class="fa fa-check"></i><b>40.11.3</b> Remove cell borders<span></span></a></li>
</ul></li>
<li class="chapter" data-level="40.12" data-path="creating-tables-with-r-and-microsoft-word.html"><a href="creating-tables-with-r-and-microsoft-word.html#summary-5"><i class="fa fa-check"></i><b>40.12</b> Summary<span></span></a></li>
</ul></li>
<li class="part"><span><b>IX Introduction to Epidemiology<span></span></b></span></li>
<li class="chapter" data-level="41" data-path="introduction-to-epidemiology.html"><a href="introduction-to-epidemiology.html"><i class="fa fa-check"></i><b>41</b> Introduction to Epidemiology<span></span></a>
<ul>
<li class="chapter" data-level="41.1" data-path="introduction-to-epidemiology.html"><a href="introduction-to-epidemiology.html#measurement"><i class="fa fa-check"></i><b>41.1</b> Measurement<span></span></a></li>
<li class="chapter" data-level="41.2" data-path="introduction-to-epidemiology.html"><a href="introduction-to-epidemiology.html#uncertainty"><i class="fa fa-check"></i><b>41.2</b> Uncertainty<span></span></a></li>
<li class="chapter" data-level="41.3" data-path="introduction-to-epidemiology.html"><a href="introduction-to-epidemiology.html#summary-6"><i class="fa fa-check"></i><b>41.3</b> Summary<span></span></a></li>
</ul></li>
<li class="part"><span><b>X Appendix<span></span></b></span></li>
<li><a href="appendix-a-glossary.html#appendix-a-glossary">Appendix A: Glossary<span></span></a></li>
<li><a href="appendix-alternative-table-formats.html#appendix-alternative-table-formats">Appendix: Alternative table formats<span></span></a>
<ul>
<li class="chapter" data-level="41.4" data-path="appendix-alternative-table-formats.html"><a href="appendix-alternative-table-formats.html"><i class="fa fa-check"></i><b>41.4</b> Smaller data frame<span></span></a>
<ul>
<li class="chapter" data-level="41.4.1" data-path="appendix-alternative-table-formats.html"><a href="appendix-alternative-table-formats.html#default-method-for-printing-the-data-frame-to-the-screen"><i class="fa fa-check"></i><b>41.4.1</b> Default method for printing the data frame to the screen<span></span></a></li>
<li class="chapter" data-level="41.4.2" data-path="appendix-alternative-table-formats.html"><a href="appendix-alternative-table-formats.html#using-the-kable-function"><i class="fa fa-check"></i><b>41.4.2</b> Using the kable function<span></span></a></li>
<li class="chapter" data-level="41.4.3" data-path="appendix-alternative-table-formats.html"><a href="appendix-alternative-table-formats.html#using-the-datatable-function"><i class="fa fa-check"></i><b>41.4.3</b> Using the datatable function<span></span></a></li>
</ul></li>
<li class="chapter" data-level="41.5" data-path="appendix-alternative-table-formats.html"><a href="appendix-alternative-table-formats.html#larger-data-frame"><i class="fa fa-check"></i><b>41.5</b> Larger data frame<span></span></a>
<ul>
<li class="chapter" data-level="41.5.1" data-path="appendix-alternative-table-formats.html"><a href="appendix-alternative-table-formats.html#default-method-for-printing-the-data-frame-to-the-screen-1"><i class="fa fa-check"></i><b>41.5.1</b> Default method for printing the data frame to the screen<span></span></a></li>
<li class="chapter" data-level="41.5.2" data-path="appendix-alternative-table-formats.html"><a href="appendix-alternative-table-formats.html#using-the-kable-function-1"><i class="fa fa-check"></i><b>41.5.2</b> Using the kable function<span></span></a></li>
<li class="chapter" data-level="41.5.3" data-path="appendix-alternative-table-formats.html"><a href="appendix-alternative-table-formats.html#using-the-datatable-function-1"><i class="fa fa-check"></i><b>41.5.3</b> Using the datatable function<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="references.html#references">References<span></span></a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Epidemiology</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="working-with-dates" class="section level1 hasAnchor" number="28">
<h1><span class="header-section-number">28</span> Working with dates<a href="working-with-dates.html#working-with-dates" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<!--
Date
Posixct
Lubridate
-->
<p>In epidemiology, it isn’t uncommon at all for the data we are analyzing to include important date values. Some common examples include date of birth, hospital admission date, date of symptom onset, and follow-up dates in longitudinal studies. In this chapter, we will learn about two new vector types that we can use to work with date and date-time data. Additionally, we will learn about a new package, <code>lubridate</code>, which provides a robust set of functions designed specifically for working with date and date-time data in R.</p>
<div id="date-vector-types" class="section level2 hasAnchor" number="28.1">
<h2><span class="header-section-number">28.1</span> Date vector types<a href="working-with-dates.html#date-vector-types" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In R, there are two different vector types that we can use to store, and work with, dates. They are:</p>
<p>📅 <code>date</code> vectors for working with date values. By default, R will display dates in this format: 4-digit year, a dash, 2-digit month, a dash, and 2-digit day. For example, the date that the University of Florida won its last national football championship, January 8, 2009, looks like this as a date in R: <code>2009-01-08</code>. It’s about time for another championship!</p>
<p>📅🕓 <code>POSIXct</code> vectors for working with date-time values. Date-time values are just dates with time values added to them. By default, R will display date-times in this format: 4-digit year, a dash, 2-digit month, a dash, 2-digit day, a space, 2-digit hour value, a colon, 2-digit minute value, a colon, and 2-digit second value. So, let’s say that kickoff for the previously mentioned national championship game was at 8:00 PM local time. In R, that looks like this: <code>2009-01-08 20:00:00</code>.</p>
<p class="note">
🗒<strong>Side Note:</strong> You were probably pretty confused when you saw the 20:00:00 above if you’ve never used 24-hour clock time (also called military time) before. I’ll let you read the details on <a href="https://en.wikipedia.org/wiki/24-hour_clock">Wikipedia</a>, but here’s a couple of simple tips to get you started working with 24-hour time. Any time before noon is written the same as you would write it if you were using 12-hour (AM/PM) time. So, 8:00 AM would be 8:00 in 24-hour time. After noon, just add 12 to whatever time you want to write. So, 1:00 PM is 13:00 (1 + 12 = 13) and 8:00 PM is 20:00 (8 + 12 = 20).
</p>
<p class="note">
🗒<strong>Side Note:</strong> Base R does not have a built-in vector type for working with pure time (as opposed to date-time) values. If you need to work with pure time values only, then the <a href="https://hms.tidyverse.org/">hms</a> package is what you want to try first.
</p>
<p>In general, I try to work with date values, rather than date-time values, whenever possible. Working with date-time values is slightly more complicated than working with date values, and I rarely have time data anyway. However, that doesn’t stop some R functions from trying to store dates as POSIXct vectors by default, which can sometimes cause unexpected errors in my R code. But, don’t worry. I’m going to show you how to coerce POSIXct vectors to date vectors below.</p>
<p>Before we go any further, let’s go ahead and look at some data that we can use to help us learn to work with dates in R.</p>
<p><a href="https://www.dropbox.com/s/ioy9jpki7uluh0f/birth_dates.csv?dl=1">You can click here to download the data and import it into your R session, if you want to follow along.</a></p>
<div class="sourceCode" id="cb574"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb574-1"><a href="working-with-dates.html#cb574-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<div class="sourceCode" id="cb575"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb575-1"><a href="working-with-dates.html#cb575-1" aria-hidden="true" tabindex="-1"></a>birth_dates <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">&quot;/Users/bradcannell/Dropbox/Datasets/Dates/birth_dates.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 10 Columns: 6
## ── Column specification ────────────────────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr  (4): name_first, name_last, dob_typical, dob_long
## dttm (1): dob_actual
## date (1): dob_default
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb577"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb577-1"><a href="working-with-dates.html#cb577-1" aria-hidden="true" tabindex="-1"></a>birth_dates</span></code></pre></div>
<pre><code>## # A tibble: 10 × 6
##    name_first name_last dob_actual          dob_default dob_typical dob_long          
##    &lt;chr&gt;      &lt;chr&gt;     &lt;dttm&gt;              &lt;date&gt;      &lt;chr&gt;       &lt;chr&gt;             
##  1 Nathaniel  Watts     1996-03-04 16:59:18 1996-03-04  03/04/1996  March 04, 1996    
##  2 Sophia     Gomez     1998-11-21 21:52:08 1998-11-21  11/21/1998  November 21, 1998 
##  3 Emmett     Steele    1994-09-03 23:26:19 1994-09-03  09/03/1994  September 03, 1994
##  4 Levi       Sanchez   1996-08-03 17:18:50 1996-08-03  08/03/1996  August 03, 1996   
##  5 August     Murray    1980-06-13 18:27:13 1980-06-13  06/13/1980  June 13, 1980     
##  6 Juan       Clark     1996-12-09 05:33:24 1996-12-08  12/08/1996  December 08, 1996 
##  7 Lilly      Levy      1992-11-27 17:36:43 1992-11-27  11/27/1992  November 27, 1992 
##  8 Natalie    Rogers    1983-04-27 23:31:56 1983-04-27  04/27/1983  April 27, 1983    
##  9 Solomon    Harding   1988-06-28 16:13:46 1988-06-28  06/28/1988  June 28, 1988     
## 10 Olivia     House     1997-08-02 22:09:50 1997-08-02  08/02/1997  August 02, 1997</code></pre>
<p>👆<strong>Here’s what we did above:</strong></p>
<ul>
<li><p>We used the <code>read_csv()</code> function to import a csv file containing simulated data into R.</p></li>
<li><p>The simulated data contains the first name, last name, and date of birth for 10 fictitious people.</p></li>
<li><p>In this data, date of birth is recorded in the four most common formats that I typically come across.</p></li>
</ul>
<ol style="list-style-type: decimal">
<li><p><code>dob_actual</code> is each person’s <em>actual</em> date of birth measured down to the second. Notice that this column’s type is <code>&lt;S3: POSIXct&gt;</code>. Again, that means that this vector contains date-time values. Also, notice that the format of these values matches the format we discussed for date-time vectors above: 4-digit year, a dash, 2-digit month, a dash, 2-digit day, a space, 2-digit hour value, a colon, 2-digit minute value, a colon, and 2-digit second value.</p></li>
<li><p><code>dob_default</code> is each person’s date of birth without their time of birth included. Notice that this column’s type is <code>&lt;date&gt;</code>. Also, notice that the format of these values matches the format we discussed for date vectors above: 4-digit year, a dash, 2-digit month, a dash, and 2-digit day.</p></li>
<li><p><code>dob_typical</code> is each person’s date of birth written in the format that is probably most often used in the United States: 2-digit month, a forward slash, 2-digit day, a forward slash, and 4-digit year.</p></li>
<li><p><code>dob_long</code> is each person’s date of birth written out in a sometimes-used long format. That is, the month name written out, 2-digit day, a comma, and 4-digit year.</p></li>
</ol>
<ul>
<li><p>Notice that <code>readr</code> did a good job of importing <code>dob_actual</code> and <code>dob_default</code> as date-time and date values respectively. It did so because the values were stored in the csv file in the default format that R expects to see date-time and date values have.</p></li>
<li><p>Notice that <code>readr</code> imported <code>dob_typical</code> and <code>dob_long</code> as character strings. It does so because the values in these columns were not stored in a format that R recognizes as a date or date-time.</p></li>
</ul>
</div>
<div id="dates-under-the-hood" class="section level2 hasAnchor" number="28.2">
<h2><span class="header-section-number">28.2</span> Dates under the hood<a href="working-with-dates.html#dates-under-the-hood" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Under the hood, R actually stores dates as numbers. Specifically, the number of days before or after January 1st, 1970, 00:00:00 UTC.</p>
<p class="note">
🗒<strong>Side Note:</strong> Why January 1st, 1970, 00:00:00 UTC? Well, it’s not really important to know the answer for the purposes of this book, or for programming in R, but Kristina Hill (a former student) figured out the answer for those of you who are curious. New Year’s Day in 1970 was an easy date for early Unix developers to use as a uniform date for the start of time. So, January 1st, 1970 at 00:00:00 UTC is referred to as the “Unix epoch”, and it’s a popular epoch used by many (but not all) software platforms. The use of any epoch date is mostly arbitrary, and this one leads to some interesting situations (like the <a href="https://en.wikipedia.org/wiki/Year_2038_problem">Year 2038 Problem</a> and <a href="https://www.theguardian.com/technology/2016/feb/12/setting-the-date-to-1-january-1970-will-brick-your-iphone-ipad-or-ipod-touch#:~:text=6%20years%20old-,Setting%20the%20date%20to%201%20January%201970%20will,iPhone%2C%20iPad%20or%20iPod%20touch&amp;text=Manually%20setting%20the%20date%20of,up%20if%20it&#39;s%20switched%20off">this little issue that Apple had a few years ago (yikes!)</a>. Generally speaking, though, this is in no way likely to impact your day-to-day programming in R, or your life at all (unless you happen to also be a software developer in a platform that uses this epoch date).
</p>
<p><img src="img/05_part_data_management/04_working_with_dates/timeline.png" width="900" /></p>
<p>For example, let’s use base R’s <code>as.Date()</code> function to create a date value from the string “2000-01-01”.</p>
<div class="sourceCode" id="cb579"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb579-1"><a href="working-with-dates.html#cb579-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(<span class="st">&quot;2000-01-01&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2000-01-01&quot;</code></pre>
<p>On the surface, it doesn’t look like anything happened. However, we can use base R’s <code>unclass()</code> function to see R’s internal integer representation of the date.</p>
<div class="sourceCode" id="cb581"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb581-1"><a href="working-with-dates.html#cb581-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(<span class="fu">as.Date</span>(<span class="st">&quot;2000-01-01&quot;</span>))</span></code></pre></div>
<pre><code>## [1] 10957</code></pre>
<p>Specifically, January 1st, 2000 is apparently 10,957 days after January 1st, 1970. What number would you expect to be returned if we used the date “1970-01-01”?</p>
<div class="sourceCode" id="cb583"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb583-1"><a href="working-with-dates.html#cb583-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(<span class="fu">as.Date</span>(<span class="st">&quot;1970-01-01&quot;</span>))</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p>What number would you expect to be returned if we used the date “1970-01-02”?</p>
<div class="sourceCode" id="cb585"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb585-1"><a href="working-with-dates.html#cb585-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(<span class="fu">as.Date</span>(<span class="st">&quot;1970-01-02&quot;</span>))</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>And finally, what number would you expect to be returned if we used the date “1969-12-31”?</p>
<div class="sourceCode" id="cb587"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb587-1"><a href="working-with-dates.html#cb587-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(<span class="fu">as.Date</span>(<span class="st">&quot;1969-12-31&quot;</span>))</span></code></pre></div>
<pre><code>## [1] -1</code></pre>
<p>This numeric representation of dates also works in the other direction. For example, we can pass the number 10,958 to the <code>as.Date()</code> function, along with the date origin, and R will return a human-readable date.</p>
<div class="sourceCode" id="cb589"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb589-1"><a href="working-with-dates.html#cb589-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(<span class="dv">10958</span>, <span class="at">origin =</span> <span class="st">&quot;1970-01-01&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2000-01-02&quot;</code></pre>
<p>You may be wondering why we had to tell R the date origin. After all, didn’t we already say that the origin is January 1st, 1970? Well, not all programs and programming languages use the same date origin. For example, SAS uses the date January 1st, 1960 as its origin. In my experience, this differing origin value can occasionally give us incorrect dates. When that happens, one option is to strip the date value down to its numeric representation, and then tell R what the origin was for that numeric representation in the program you are importing the data from.</p>
<p>For example, if we imported a data set from SAS, we could correctly produce human-readable dates in the manner shown below:</p>
<div class="sourceCode" id="cb591"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb591-1"><a href="working-with-dates.html#cb591-1" aria-hidden="true" tabindex="-1"></a>from_sas <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb591-2"><a href="working-with-dates.html#cb591-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">date =</span> <span class="fu">c</span>(<span class="dv">10958</span>, <span class="dv">10959</span>, <span class="dv">10960</span>)</span>
<span id="cb591-3"><a href="working-with-dates.html#cb591-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="sourceCode" id="cb592"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb592-1"><a href="working-with-dates.html#cb592-1" aria-hidden="true" tabindex="-1"></a>from_sas <span class="sc">%&gt;%</span> </span>
<span id="cb592-2"><a href="working-with-dates.html#cb592-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">new_date =</span> <span class="fu">as.Date</span>(date, <span class="at">origin =</span> <span class="st">&quot;1960-01-01&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##    date new_date  
##   &lt;dbl&gt; &lt;date&gt;    
## 1 10958 1990-01-01
## 2 10959 1990-01-02
## 3 10960 1990-01-03</code></pre>
<p>Hopefully, you now have a good intuition about how R stores dates under the hood. This numeric representation of dates is what will allow us to perform calculations with dates later in the chapter.</p>
</div>
<div id="coercing-date-times-to-dates" class="section level2 hasAnchor" number="28.3">
<h2><span class="header-section-number">28.3</span> Coercing date-times to dates<a href="working-with-dates.html#coercing-date-times-to-dates" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>As I said above, it’s usually preferable to work with date values instead of date-time values. Fortunately, converting date-time values to dates is usually really easy. All we need to do is pass those values to the same <code>as.Date()</code> function we already saw above. For example:</p>
<div class="sourceCode" id="cb594"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb594-1"><a href="working-with-dates.html#cb594-1" aria-hidden="true" tabindex="-1"></a>birth_dates <span class="sc">%&gt;%</span> </span>
<span id="cb594-2"><a href="working-with-dates.html#cb594-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">posix_to_date =</span> <span class="fu">as.Date</span>(dob_actual)) <span class="sc">%&gt;%</span> </span>
<span id="cb594-3"><a href="working-with-dates.html#cb594-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(dob_actual, posix_to_date)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 2
##    dob_actual          posix_to_date
##    &lt;dttm&gt;              &lt;date&gt;       
##  1 1996-03-04 16:59:18 1996-03-04   
##  2 1998-11-21 21:52:08 1998-11-21   
##  3 1994-09-03 23:26:19 1994-09-03   
##  4 1996-08-03 17:18:50 1996-08-03   
##  5 1980-06-13 18:27:13 1980-06-13   
##  6 1996-12-09 05:33:24 1996-12-09   
##  7 1992-11-27 17:36:43 1992-11-27   
##  8 1983-04-27 23:31:56 1983-04-27   
##  9 1988-06-28 16:13:46 1988-06-28   
## 10 1997-08-02 22:09:50 1997-08-02</code></pre>
<p>👆<strong>Here’s what we did above:</strong></p>
<ul>
<li><p>We created a new column in the <code>birth_dates</code> data frame called <code>posix_to_date</code>.</p></li>
<li><p>We used the <code>as.Date()</code> function to coerce the date-time values in <code>dob_actual</code> to dates. In other words, we dropped the time part of the date-time. Make sure to capitalize the “D” in <code>as.Date()</code>.</p></li>
<li><p>We used the <code>select()</code> function to keep only the columns we are interested in comparing side-by-side in our output.</p></li>
<li><p>Notice that <code>dob_actual</code>’s column type is still <code>&lt;S3: POSIXct&gt;</code>, but <code>posix_to_date</code>’s column type is <code>&lt;date&gt;</code>.</p></li>
</ul>
</div>
<div id="coercing-character-strings-to-dates" class="section level2 hasAnchor" number="28.4">
<h2><span class="header-section-number">28.4</span> Coercing character strings to dates<a href="working-with-dates.html#coercing-character-strings-to-dates" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Converting character strings to dates can be slightly more complicated than converting date-times to dates. This is because we have to explicitly tell R which characters in the character string correspond to each date component. For example, let’s say we have a date value of <code>04-05-06</code>. Is that April 5th, 2006? Is it April 5th, 1906? Or perhaps it’s May 6th, 2004?</p>
<p>We need to use a series of special symbols to tell R which characters in the character string correspond to each date component. I’ll list some of the most common ones first and then show you how to use them. The examples below assume that date each symbol is being applied to is <code>2000-01-15</code>.</p>
<table>
<thead>
<tr>
<th style="text-align:left;">
Symbol
</th>
<th style="text-align:left;">
Description
</th>
<th style="text-align:left;">
Example
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
%a
</td>
<td style="text-align:left;">
Abbreviated weekday name
</td>
<td style="text-align:left;">
Sat
</td>
</tr>
<tr>
<td style="text-align:left;">
%A
</td>
<td style="text-align:left;">
Full weekday name
</td>
<td style="text-align:left;">
Saturday
</td>
</tr>
<tr>
<td style="text-align:left;">
%b
</td>
<td style="text-align:left;">
Abbreviated month name
</td>
<td style="text-align:left;">
Jan
</td>
</tr>
<tr>
<td style="text-align:left;">
%B
</td>
<td style="text-align:left;">
Full month name
</td>
<td style="text-align:left;">
January
</td>
</tr>
<tr>
<td style="text-align:left;">
%d
</td>
<td style="text-align:left;">
Day of the month as a number (01–31)
</td>
<td style="text-align:left;">
15
</td>
</tr>
<tr>
<td style="text-align:left;">
%m
</td>
<td style="text-align:left;">
Month as a number
</td>
<td style="text-align:left;">
01
</td>
</tr>
<tr>
<td style="text-align:left;">
%u
</td>
<td style="text-align:left;">
Weekday as a number (1–7, Monday is 1)
</td>
<td style="text-align:left;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
%U
</td>
<td style="text-align:left;">
Week of the year as a number (00–53) using Sunday as the first day 1 of the week
</td>
<td style="text-align:left;">
02
</td>
</tr>
<tr>
<td style="text-align:left;">
%y
</td>
<td style="text-align:left;">
Year without century (00-99)
</td>
<td style="text-align:left;">
00
</td>
</tr>
<tr>
<td style="text-align:left;">
%Y
</td>
<td style="text-align:left;">
Year with century
</td>
<td style="text-align:left;">
2000
</td>
</tr>
</tbody>
</table>
<p>Now that we have a list of useful symbols that we can use to communicate with R, let’s take another look at our birth date data.</p>
<pre><code>## # A tibble: 10 × 6
##    name_first name_last dob_actual          dob_default dob_typical dob_long          
##    &lt;chr&gt;      &lt;chr&gt;     &lt;dttm&gt;              &lt;date&gt;      &lt;chr&gt;       &lt;chr&gt;             
##  1 Nathaniel  Watts     1996-03-04 16:59:18 1996-03-04  03/04/1996  March 04, 1996    
##  2 Sophia     Gomez     1998-11-21 21:52:08 1998-11-21  11/21/1998  November 21, 1998 
##  3 Emmett     Steele    1994-09-03 23:26:19 1994-09-03  09/03/1994  September 03, 1994
##  4 Levi       Sanchez   1996-08-03 17:18:50 1996-08-03  08/03/1996  August 03, 1996   
##  5 August     Murray    1980-06-13 18:27:13 1980-06-13  06/13/1980  June 13, 1980     
##  6 Juan       Clark     1996-12-09 05:33:24 1996-12-08  12/08/1996  December 08, 1996 
##  7 Lilly      Levy      1992-11-27 17:36:43 1992-11-27  11/27/1992  November 27, 1992 
##  8 Natalie    Rogers    1983-04-27 23:31:56 1983-04-27  04/27/1983  April 27, 1983    
##  9 Solomon    Harding   1988-06-28 16:13:46 1988-06-28  06/28/1988  June 28, 1988     
## 10 Olivia     House     1997-08-02 22:09:50 1997-08-02  08/02/1997  August 02, 1997</code></pre>
<p>For our first example, let’s try converting the character strings stored in the <code>dob_typical</code> to date values. Let’ start by passing the values to <code>as.Date()</code> exactly as we did above and see what happens:</p>
<div class="sourceCode" id="cb597"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb597-1"><a href="working-with-dates.html#cb597-1" aria-hidden="true" tabindex="-1"></a>birth_dates <span class="sc">%&gt;%</span> </span>
<span id="cb597-2"><a href="working-with-dates.html#cb597-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dob_typical_to_date =</span> <span class="fu">as.Date</span>(dob_typical)) <span class="sc">%&gt;%</span> </span>
<span id="cb597-3"><a href="working-with-dates.html#cb597-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(dob_typical, dob_typical_to_date)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 2
##    dob_typical dob_typical_to_date
##    &lt;chr&gt;       &lt;date&gt;             
##  1 03/04/1996  0003-04-19         
##  2 11/21/1998  NA                 
##  3 09/03/1994  0009-03-19         
##  4 08/03/1996  0008-03-19         
##  5 06/13/1980  NA                 
##  6 12/08/1996  0012-08-19         
##  7 11/27/1992  NA                 
##  8 04/27/1983  NA                 
##  9 06/28/1988  NA                 
## 10 08/02/1997  0008-02-19</code></pre>
<p>This is definitely not the result we wanted, right? Why didn’t it work? Well, R was looking for the values in <code>dob_typical</code> to have the format 4-digit year, a dash, 2-digit month, a dash, and 2-digit day. In reality, <code>dob_typical</code> has the format 2-digit month, a forward slash, 2-digit day, a forward slash, and 4-digit year. Now, all we have to do is tell R how to read this character string as a date using some of the symbols we learned about in the table above.</p>
<p>Let’s try again:</p>
<div class="sourceCode" id="cb599"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb599-1"><a href="working-with-dates.html#cb599-1" aria-hidden="true" tabindex="-1"></a>birth_dates <span class="sc">%&gt;%</span> </span>
<span id="cb599-2"><a href="working-with-dates.html#cb599-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dob_typical_to_date =</span> <span class="fu">as.Date</span>(dob_typical, <span class="at">format =</span> <span class="st">&quot;%m %d %Y&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb599-3"><a href="working-with-dates.html#cb599-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(dob_typical, dob_typical_to_date)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 2
##    dob_typical dob_typical_to_date
##    &lt;chr&gt;       &lt;date&gt;             
##  1 03/04/1996  NA                 
##  2 11/21/1998  NA                 
##  3 09/03/1994  NA                 
##  4 08/03/1996  NA                 
##  5 06/13/1980  NA                 
##  6 12/08/1996  NA                 
##  7 11/27/1992  NA                 
##  8 04/27/1983  NA                 
##  9 06/28/1988  NA                 
## 10 08/02/1997  NA</code></pre>
<p>Wait, what? We told R that the values were 2-digit month (<code>%m</code>), 2-digit day (<code>%d</code>), and 4-digit year (<code>%Y</code>). Why didn’t it work this time? It didn’t work because we didn’t pass the forward slashes to the format argument. Yes, it’s that literal. We even have to tell R that there are symbols mixed in with our date values in the character string we want to convert to a date.</p>
<p>Let’s try one more time:</p>
<div class="sourceCode" id="cb601"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb601-1"><a href="working-with-dates.html#cb601-1" aria-hidden="true" tabindex="-1"></a>birth_dates <span class="sc">%&gt;%</span> </span>
<span id="cb601-2"><a href="working-with-dates.html#cb601-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dob_typical_to_date =</span> <span class="fu">as.Date</span>(dob_typical, <span class="at">format =</span> <span class="st">&quot;%m/%d/%Y&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb601-3"><a href="working-with-dates.html#cb601-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(dob_typical, dob_typical_to_date)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 2
##    dob_typical dob_typical_to_date
##    &lt;chr&gt;       &lt;date&gt;             
##  1 03/04/1996  1996-03-04         
##  2 11/21/1998  1998-11-21         
##  3 09/03/1994  1994-09-03         
##  4 08/03/1996  1996-08-03         
##  5 06/13/1980  1980-06-13         
##  6 12/08/1996  1996-12-08         
##  7 11/27/1992  1992-11-27         
##  8 04/27/1983  1983-04-27         
##  9 06/28/1988  1988-06-28         
## 10 08/02/1997  1997-08-02</code></pre>
<p>👆<strong>Here’s what we did above:</strong></p>
<ul>
<li><p>We created a new column in the <code>birth_dates</code> data frame called <code>dob_typical_to_date</code>.</p></li>
<li><p>We used the <code>as.Date()</code> function to coerce the character string values in <code>dob_typical</code> to dates.</p></li>
<li><p>We did so by passing the value <code>"%m/%d/%Y"</code> to the <code>format</code> argument of the <code>as.Date()</code> function. These symbols tell R to read the character strings in <code>dob_typical</code> as 2-digit month (<code>%m</code>), a forward slash (<code>/</code>), 2-digit day (<code>%d</code>), a forward slash (<code>/</code>), and 4-digit year (<code>%Y</code>).</p></li>
<li><p>We used the <code>select()</code> function to keep only the columns we are interested in comparing side-by-side in our output.</p></li>
<li><p>Notice that <code>dob_typical</code>’s column type is still character (<code>&lt;chr&gt;</code>), but <code>dob_typical_to_date</code>’s column type is <code>&lt;date&gt;</code>.</p></li>
</ul>
<p>Let’s try one more example, just to make sure we’ve got this down. Take a look at the <code>dob_long</code> column. What value will we need to pass to <code>as.Date()</code>’s format argument in order to convert these character strings to dates?</p>
<div class="sourceCode" id="cb603"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb603-1"><a href="working-with-dates.html#cb603-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(birth_dates, dob_long)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 1
##    dob_long          
##    &lt;chr&gt;             
##  1 March 04, 1996    
##  2 November 21, 1998 
##  3 September 03, 1994
##  4 August 03, 1996   
##  5 June 13, 1980     
##  6 December 08, 1996 
##  7 November 27, 1992 
##  8 April 27, 1983    
##  9 June 28, 1988     
## 10 August 02, 1997</code></pre>
<p>Did you figure it out? The solution is below:</p>
<div class="sourceCode" id="cb605"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb605-1"><a href="working-with-dates.html#cb605-1" aria-hidden="true" tabindex="-1"></a>birth_dates <span class="sc">%&gt;%</span> </span>
<span id="cb605-2"><a href="working-with-dates.html#cb605-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dob_long_to_date =</span> <span class="fu">as.Date</span>(dob_long, <span class="at">format =</span> <span class="st">&quot;%B %d, %Y&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb605-3"><a href="working-with-dates.html#cb605-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(dob_long, dob_long_to_date)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 2
##    dob_long           dob_long_to_date
##    &lt;chr&gt;              &lt;date&gt;          
##  1 March 04, 1996     1996-03-04      
##  2 November 21, 1998  1998-11-21      
##  3 September 03, 1994 1994-09-03      
##  4 August 03, 1996    1996-08-03      
##  5 June 13, 1980      1980-06-13      
##  6 December 08, 1996  1996-12-08      
##  7 November 27, 1992  1992-11-27      
##  8 April 27, 1983     1983-04-27      
##  9 June 28, 1988      1988-06-28      
## 10 August 02, 1997    1997-08-02</code></pre>
<p>👆<strong>Here’s what we did above:</strong></p>
<ul>
<li><p>We created a new column in the <code>birth_dates</code> data frame called <code>dob_long_to_date</code>.</p></li>
<li><p>We used the <code>as.Date()</code> function to coerce the character string values in <code>dob_long</code> to dates.</p></li>
<li><p>We did so by passing the value <code>"%B %d, %Y"</code> to the <code>format</code> argument of the <code>as.Date()</code> function. These symbols tell R to read the character strings in <code>dob_long</code> as full month name (<code>%B</code>), 2-digit day (<code>%d</code>), a comma (<code>,</code>), and 4-digit year (<code>%Y</code>).</p></li>
<li><p>We used the <code>select()</code> function to keep only the columns we are interested in comparing side-by-side in our output.</p></li>
<li><p>Notice that <code>dob_long</code>’s column type is still character (<code>&lt;chr&gt;</code>), but <code>dob_long_to_date</code>’s column type is <code>&lt;date&gt;</code>.</p></li>
</ul>
</div>
<div id="change-the-appearance-of-dates-with-format" class="section level2 hasAnchor" number="28.5">
<h2><span class="header-section-number">28.5</span> Change the appearance of dates with format()<a href="working-with-dates.html#change-the-appearance-of-dates-with-format" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>So, far we’ve talked about transforming character strings into dates. However, the reverse is also possible. Meaning, we can transform date values into character strings that we can style (i.e., format) in just about any way you could possibly want to style a date. For example:</p>
<div class="sourceCode" id="cb607"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb607-1"><a href="working-with-dates.html#cb607-1" aria-hidden="true" tabindex="-1"></a>birth_dates <span class="sc">%&gt;%</span> </span>
<span id="cb607-2"><a href="working-with-dates.html#cb607-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dob_abbreviated =</span> <span class="fu">format</span>(dob_actual, <span class="st">&quot;%d %b %y&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb607-3"><a href="working-with-dates.html#cb607-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(dob_actual, dob_abbreviated)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 2
##    dob_actual          dob_abbreviated
##    &lt;dttm&gt;              &lt;chr&gt;          
##  1 1996-03-04 16:59:18 04 Mar 96      
##  2 1998-11-21 21:52:08 21 Nov 98      
##  3 1994-09-03 23:26:19 03 Sep 94      
##  4 1996-08-03 17:18:50 03 Aug 96      
##  5 1980-06-13 18:27:13 13 Jun 80      
##  6 1996-12-09 05:33:24 09 Dec 96      
##  7 1992-11-27 17:36:43 27 Nov 92      
##  8 1983-04-27 23:31:56 27 Apr 83      
##  9 1988-06-28 16:13:46 28 Jun 88      
## 10 1997-08-02 22:09:50 02 Aug 97</code></pre>
<p>👆<strong>Here’s what we did above:</strong></p>
<ul>
<li><p>We created a new column in the <code>birth_dates</code> data frame called <code>dob_abbreviated</code>.</p></li>
<li><p>We used the <code>format()</code> function to coerce the date values in <code>dob_actual</code> to character string values in <code>dob_abbreviated</code>.</p></li>
<li><p>We did so by passing the value <code>"%d %b %y"</code> to the <code>...</code> argument of the <code>format()</code> function. These symbols tell R to create a character string as 2-digit day (<code>%d</code>), a space (<code>" "</code>), abbreviated month name (<code>%b</code>), a space (<code>" "</code>), and 2-digit year (<code>%y</code>).</p></li>
<li><p>We used the <code>select()</code> function to keep only the columns we are interested in comparing side-by-side in our output.</p></li>
<li><p>Notice that <code>dob_actual</code>’s column type is still date_time (<code>&lt;S3: POSIXct&gt;</code>), but <code>dob_abbreviated</code>’s column type is character (<code>&lt;chr&gt;</code>). So, while <code>dob_abbreviated</code> <em>looks</em> like a date to us, <strong>it is no longer a date value to R.</strong> In other words, <code>dob_abbreviated</code> doesn’t have an integer representation under the hood. It is simply a character string.</p></li>
</ul>
</div>
<div id="some-useful-built-in-dates" class="section level2 hasAnchor" number="28.6">
<h2><span class="header-section-number">28.6</span> Some useful built-in dates<a href="working-with-dates.html#some-useful-built-in-dates" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Base R actually includes a few useful built-in dates that we can use. They can often be useful when doing calculations with dates. Here are a few examples:</p>
<div id="todays-date" class="section level3 hasAnchor" number="28.6.1">
<h3><span class="header-section-number">28.6.1</span> Today’s date<a href="working-with-dates.html#todays-date" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb609"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb609-1"><a href="working-with-dates.html#cb609-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.Date</span>()</span></code></pre></div>
<pre><code>## [1] &quot;2022-07-23&quot;</code></pre>
<div class="sourceCode" id="cb611"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb611-1"><a href="working-with-dates.html#cb611-1" aria-hidden="true" tabindex="-1"></a>lubridate<span class="sc">::</span><span class="fu">today</span>()</span></code></pre></div>
<pre><code>## [1] &quot;2022-07-23&quot;</code></pre>
<p>These functions can be useful for calculating any length of time up to today. For example, your age today is just the length of time that spans between your birth date and today.</p>
</div>
<div id="todays-date-time" class="section level3 hasAnchor" number="28.6.2">
<h3><span class="header-section-number">28.6.2</span> Today’s date-time<a href="working-with-dates.html#todays-date-time" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb613"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb613-1"><a href="working-with-dates.html#cb613-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.time</span>()</span></code></pre></div>
<pre><code>## [1] &quot;2022-07-23 15:50:20 CDT&quot;</code></pre>
<div class="sourceCode" id="cb615"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb615-1"><a href="working-with-dates.html#cb615-1" aria-hidden="true" tabindex="-1"></a>lubridate<span class="sc">::</span><span class="fu">now</span>()</span></code></pre></div>
<pre><code>## [1] &quot;2022-07-23 15:50:20 CDT&quot;</code></pre>
<p>Because these functions also return the current time, they can be useful for timing how long it takes your R code to run. As we’ve said many times, there is typically multiple ways to accomplish a given task in R. Sometimes, the difference between any to ways to accomplish the task is basically just a matter of preference. However, sometimes one way can be much faster than another way. All the examples we’ve seen so far in this book take a trivial amount of time to run – usually less than a second. However, I have written R programs that took several minutes to several hours to complete. For example, complex data simulations and multiple imputation procedures can both take a long time to run. In such cases, I will sometimes check to see if there any significant performance differences between two different approaches to accomplishing the coding task.</p>
<p>As a silly example to show you how this works, let’s generate 1,000,000 random numbers.</p>
<div class="sourceCode" id="cb617"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb617-1"><a href="working-with-dates.html#cb617-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">703</span>)</span>
<span id="cb617-2"><a href="working-with-dates.html#cb617-2" aria-hidden="true" tabindex="-1"></a>rand_mill <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1000000</span>)</span></code></pre></div>
<p>Now, let’s find the mean value of those numbers two different ways, and check to see if there is any time difference between the two:</p>
<div class="sourceCode" id="cb618"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb618-1"><a href="working-with-dates.html#cb618-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the start time</span></span>
<span id="cb618-2"><a href="working-with-dates.html#cb618-2" aria-hidden="true" tabindex="-1"></a>start  <span class="ot">&lt;-</span> lubridate<span class="sc">::</span><span class="fu">now</span>()</span>
<span id="cb618-3"><a href="working-with-dates.html#cb618-3" aria-hidden="true" tabindex="-1"></a>sum    <span class="ot">&lt;-</span> <span class="fu">sum</span>(rand_mill)</span>
<span id="cb618-4"><a href="working-with-dates.html#cb618-4" aria-hidden="true" tabindex="-1"></a>length <span class="ot">&lt;-</span> <span class="fu">length</span>(rand_mill)</span>
<span id="cb618-5"><a href="working-with-dates.html#cb618-5" aria-hidden="true" tabindex="-1"></a>mean   <span class="ot">&lt;-</span> sum <span class="sc">/</span> length</span>
<span id="cb618-6"><a href="working-with-dates.html#cb618-6" aria-hidden="true" tabindex="-1"></a>mean</span></code></pre></div>
<pre><code>## [1] 0.0009259691</code></pre>
<div class="sourceCode" id="cb620"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb620-1"><a href="working-with-dates.html#cb620-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the stop time</span></span>
<span id="cb620-2"><a href="working-with-dates.html#cb620-2" aria-hidden="true" tabindex="-1"></a>stop   <span class="ot">&lt;-</span> lubridate<span class="sc">::</span><span class="fu">now</span>()</span></code></pre></div>
<div class="sourceCode" id="cb621"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb621-1"><a href="working-with-dates.html#cb621-1" aria-hidden="true" tabindex="-1"></a>stop <span class="sc">-</span> start</span></code></pre></div>
<pre><code>## Time difference of 0.005789995 secs</code></pre>
<p>So, finding the mean this way took less than a second. Let’s see how long using the <code>mean()</code> function takes:</p>
<div class="sourceCode" id="cb623"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb623-1"><a href="working-with-dates.html#cb623-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the start time</span></span>
<span id="cb623-2"><a href="working-with-dates.html#cb623-2" aria-hidden="true" tabindex="-1"></a>start  <span class="ot">&lt;-</span> lubridate<span class="sc">::</span><span class="fu">now</span>()</span>
<span id="cb623-3"><a href="working-with-dates.html#cb623-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(rand_mill)</span></code></pre></div>
<pre><code>## [1] 0.0009259691</code></pre>
<div class="sourceCode" id="cb625"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb625-1"><a href="working-with-dates.html#cb625-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the stop time</span></span>
<span id="cb625-2"><a href="working-with-dates.html#cb625-2" aria-hidden="true" tabindex="-1"></a>stop   <span class="ot">&lt;-</span> lubridate<span class="sc">::</span><span class="fu">now</span>()</span></code></pre></div>
<div class="sourceCode" id="cb626"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb626-1"><a href="working-with-dates.html#cb626-1" aria-hidden="true" tabindex="-1"></a>stop <span class="sc">-</span> start</span></code></pre></div>
<pre><code>## Time difference of 0.002967834 secs</code></pre>
<p>Although both methods above took less than a second to complete the calculations we were interested in, the second method (i.e., using the <code>mean()</code> function) took only about a third as as much time as the first. Again, it obviously doesn’t matter in this scenario, but doing these kinds of checks can be useful when calculations take much longer. For example, that time savings we saw above would be pretty important if we were comparing two methods to accomplish a task where the longer method took an hour to complete and the shorter method took a third as much time (About 20 minutes).</p>
</div>
<div id="character-vector-of-full-month-names" class="section level3 hasAnchor" number="28.6.3">
<h3><span class="header-section-number">28.6.3</span> Character vector of full month names<a href="working-with-dates.html#character-vector-of-full-month-names" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb628"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb628-1"><a href="working-with-dates.html#cb628-1" aria-hidden="true" tabindex="-1"></a>month.name</span></code></pre></div>
<pre><code>##  [1] &quot;January&quot;   &quot;February&quot;  &quot;March&quot;     &quot;April&quot;     &quot;May&quot;       &quot;June&quot;      &quot;July&quot;     
##  [8] &quot;August&quot;    &quot;September&quot; &quot;October&quot;   &quot;November&quot;  &quot;December&quot;</code></pre>
</div>
<div id="character-vector-of-abbreviated-month-names" class="section level3 hasAnchor" number="28.6.4">
<h3><span class="header-section-number">28.6.4</span> Character vector of abbreviated month names<a href="working-with-dates.html#character-vector-of-abbreviated-month-names" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb630"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb630-1"><a href="working-with-dates.html#cb630-1" aria-hidden="true" tabindex="-1"></a>month.abb</span></code></pre></div>
<pre><code>##  [1] &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot; &quot;Apr&quot; &quot;May&quot; &quot;Jun&quot; &quot;Jul&quot; &quot;Aug&quot; &quot;Sep&quot; &quot;Oct&quot; &quot;Nov&quot; &quot;Dec&quot;</code></pre>
<p><code>month.name</code> and <code>month.abb</code> aren’t functions. They don’t <em>do</em> anything. Rather, they are just saved values that can save you some typing if you happen to be working with data that requires you create variables, or perform calculations, by month.</p>
</div>
<div id="creating-a-vector-containing-a-sequence-of-dates" class="section level3 hasAnchor" number="28.6.5">
<h3><span class="header-section-number">28.6.5</span> Creating a vector containing a sequence of dates<a href="working-with-dates.html#creating-a-vector-containing-a-sequence-of-dates" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In the same way that we can simulate a sequence of numbers using the <code>seq()</code> function, we can simulate a sequence of dates using the <code>seq.Date()</code> function. I sometimes find this function useful for simulating data (including some of the data used in this book), and for filling in missing dates in longitudinal data. For example, we can use the <code>seq.Date()</code> function to return a vector of dates that includes all days between January 1st, 2020 and January 15th, 2020 like this:</p>
<div class="sourceCode" id="cb632"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb632-1"><a href="working-with-dates.html#cb632-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq.Date</span>(</span>
<span id="cb632-2"><a href="working-with-dates.html#cb632-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">from =</span> <span class="fu">as.Date</span>(<span class="st">&quot;2020-01-01&quot;</span>),</span>
<span id="cb632-3"><a href="working-with-dates.html#cb632-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">to   =</span> <span class="fu">as.Date</span>(<span class="st">&quot;2020-01-15&quot;</span>),</span>
<span id="cb632-4"><a href="working-with-dates.html#cb632-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">by   =</span> <span class="st">&quot;days&quot;</span></span>
<span id="cb632-5"><a href="working-with-dates.html#cb632-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##  [1] &quot;2020-01-01&quot; &quot;2020-01-02&quot; &quot;2020-01-03&quot; &quot;2020-01-04&quot; &quot;2020-01-05&quot; &quot;2020-01-06&quot; &quot;2020-01-07&quot;
##  [8] &quot;2020-01-08&quot; &quot;2020-01-09&quot; &quot;2020-01-10&quot; &quot;2020-01-11&quot; &quot;2020-01-12&quot; &quot;2020-01-13&quot; &quot;2020-01-14&quot;
## [15] &quot;2020-01-15&quot;</code></pre>
</div>
</div>
<div id="calculating-date-intervals" class="section level2 hasAnchor" number="28.7">
<h2><span class="header-section-number">28.7</span> Calculating date intervals<a href="working-with-dates.html#calculating-date-intervals" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>So far, we’ve learned how to create and format dates in R. However, the real value in being able to coerce character strings to date values is that doing so allows us to perform <em>calculations</em> with the dates that we could not perform with the character strings. In my experience, calculating intervals of time between dates is probably the most common type of calculation we will want to perform.</p>
<p>Before we get into some examples, I’m going to drop some of the columns from our <code>birth_dates</code> data frame because we won’t need them anymore.</p>
<div class="sourceCode" id="cb634"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb634-1"><a href="working-with-dates.html#cb634-1" aria-hidden="true" tabindex="-1"></a>ages <span class="ot">&lt;-</span> birth_dates <span class="sc">%&gt;%</span> </span>
<span id="cb634-2"><a href="working-with-dates.html#cb634-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name_first, <span class="at">dob =</span> dob_default) <span class="sc">%&gt;%</span> </span>
<span id="cb634-3"><a href="working-with-dates.html#cb634-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code></pre></div>
<pre><code>## # A tibble: 10 × 2
##    name_first dob       
##    &lt;chr&gt;      &lt;date&gt;    
##  1 Nathaniel  1996-03-04
##  2 Sophia     1998-11-21
##  3 Emmett     1994-09-03
##  4 Levi       1996-08-03
##  5 August     1980-06-13
##  6 Juan       1996-12-08
##  7 Lilly      1992-11-27
##  8 Natalie    1983-04-27
##  9 Solomon    1988-06-28
## 10 Olivia     1997-08-02</code></pre>
<p>👆<strong>Here’s what we did above:</strong></p>
<ul>
<li><p>We created a new data frame called <code>ages</code> by subsetting the <code>birth_dates</code> data frame.</p></li>
<li><p>We used the <code>select()</code> function to keep only the <code>name_first</code> and <code>dob_default</code> columns from <code>birth_dates</code>. We used a name-value pair (<code>dob = dob_default</code>) inside the <code>select()</code> function to rename <code>dob_default</code> to <code>dob</code>.</p></li>
</ul>
<p>Next, let’s create a variable in our data frame that is equal to today’s date. In reality, this would be a great time to use <code>Sys.Date()</code> to ask R to return today’s date.</p>
<div class="sourceCode" id="cb636"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb636-1"><a href="working-with-dates.html#cb636-1" aria-hidden="true" tabindex="-1"></a>ages <span class="sc">%&gt;%</span> </span>
<span id="cb636-2"><a href="working-with-dates.html#cb636-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">today =</span> <span class="fu">Sys.Date</span>())</span></code></pre></div>
<p>However, I’m not going to do that here, because it would cause the value of the <code>today</code> variable to update every time I update the book. That would make it challenging to write about the results we get. So, we’re going to pretend that today is May 7th, 2020. We’ll add that to our data frame like so:</p>
<div class="sourceCode" id="cb637"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb637-1"><a href="working-with-dates.html#cb637-1" aria-hidden="true" tabindex="-1"></a>ages <span class="ot">&lt;-</span> ages <span class="sc">%&gt;%</span> </span>
<span id="cb637-2"><a href="working-with-dates.html#cb637-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">today =</span> <span class="fu">as.Date</span>(<span class="st">&quot;2020-05-07&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb637-3"><a href="working-with-dates.html#cb637-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code></pre></div>
<pre><code>## # A tibble: 10 × 3
##    name_first dob        today     
##    &lt;chr&gt;      &lt;date&gt;     &lt;date&gt;    
##  1 Nathaniel  1996-03-04 2020-05-07
##  2 Sophia     1998-11-21 2020-05-07
##  3 Emmett     1994-09-03 2020-05-07
##  4 Levi       1996-08-03 2020-05-07
##  5 August     1980-06-13 2020-05-07
##  6 Juan       1996-12-08 2020-05-07
##  7 Lilly      1992-11-27 2020-05-07
##  8 Natalie    1983-04-27 2020-05-07
##  9 Solomon    1988-06-28 2020-05-07
## 10 Olivia     1997-08-02 2020-05-07</code></pre>
<p>👆<strong>Here’s what we did above:</strong></p>
<ul>
<li><p>We created a new column in the <code>ages</code> data frame called <code>today</code>.</p></li>
<li><p>We made set the value of the <code>today</code> column to May 7th, 2020 by passing the value <code>"2020-05-07"</code> to the <code>as.Date()</code> function.</p></li>
</ul>
<div id="calculate-age-as-the-difference-in-time-between-dob-and-today" class="section level3 hasAnchor" number="28.7.1">
<h3><span class="header-section-number">28.7.1</span> Calculate age as the difference in time between dob and today<a href="working-with-dates.html#calculate-age-as-the-difference-in-time-between-dob-and-today" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Calculating age from date of birth is a pretty common data management task. While you know what ages are, you probably don’t think much about their calculation. Age is just the difference between two points in time. The starting point is always the date of birth. However, because age is constantly changing the end point changes as well. For example, you’re one day older today than you were yesterday. So, to calculate age, we must always have a start date (i.e., date of birth) and an end date. In the example below, our end date will be May 7th, 2020.</p>
<p>Once we have those two pieces of information, we can ask R to calculate age for us in a few different ways. I’m going to suggest that you use the method below that uses functions from the <code>lubridate</code> package. I will show you why soon. However, I want to show you the base R way of calculating time intervals for comparison, and because a lot of the help documentation I’ve seen online uses the base R methods shown below.</p>
<p>Let’s go ahead and load the <code>lubridate</code> package now.</p>
<div class="sourceCode" id="cb639"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb639-1"><a href="working-with-dates.html#cb639-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span></code></pre></div>
<p>Next, let’s go ahead and calculate age 3 different ways:</p>
<div class="sourceCode" id="cb640"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb640-1"><a href="working-with-dates.html#cb640-1" aria-hidden="true" tabindex="-1"></a>ages <span class="sc">%&gt;%</span> </span>
<span id="cb640-2"><a href="working-with-dates.html#cb640-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb640-3"><a href="working-with-dates.html#cb640-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_subtraction =</span> today <span class="sc">-</span> dob,</span>
<span id="cb640-4"><a href="working-with-dates.html#cb640-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_difftime    =</span> <span class="fu">difftime</span>(today, dob),</span>
<span id="cb640-5"><a href="working-with-dates.html#cb640-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_lubridate   =</span> dob <span class="sc">%--%</span> today <span class="co"># lubridate&#39;s %--% operator creates a time interval</span></span>
<span id="cb640-6"><a href="working-with-dates.html#cb640-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 10 × 6
##    name_first dob        today      age_subtraction age_difftime age_lubridate                 
##    &lt;chr&gt;      &lt;date&gt;     &lt;date&gt;     &lt;drtn&gt;          &lt;drtn&gt;       &lt;Interval&gt;                    
##  1 Nathaniel  1996-03-04 2020-05-07  8830 days       8830 days   1996-03-04 UTC--2020-05-07 UTC
##  2 Sophia     1998-11-21 2020-05-07  7838 days       7838 days   1998-11-21 UTC--2020-05-07 UTC
##  3 Emmett     1994-09-03 2020-05-07  9378 days       9378 days   1994-09-03 UTC--2020-05-07 UTC
##  4 Levi       1996-08-03 2020-05-07  8678 days       8678 days   1996-08-03 UTC--2020-05-07 UTC
##  5 August     1980-06-13 2020-05-07 14573 days      14573 days   1980-06-13 UTC--2020-05-07 UTC
##  6 Juan       1996-12-08 2020-05-07  8551 days       8551 days   1996-12-08 UTC--2020-05-07 UTC
##  7 Lilly      1992-11-27 2020-05-07 10023 days      10023 days   1992-11-27 UTC--2020-05-07 UTC
##  8 Natalie    1983-04-27 2020-05-07 13525 days      13525 days   1983-04-27 UTC--2020-05-07 UTC
##  9 Solomon    1988-06-28 2020-05-07 11636 days      11636 days   1988-06-28 UTC--2020-05-07 UTC
## 10 Olivia     1997-08-02 2020-05-07  8314 days       8314 days   1997-08-02 UTC--2020-05-07 UTC</code></pre>
<p>👆<strong>Here’s what we did above:</strong></p>
<ul>
<li><p>We created three new columns in the <code>ages</code> data frame called <code>age_subtraction</code>, <code>age_difftime</code>, and <code>age_lubridate</code>.</p>
<ul>
<li><p>We created <code>age_subtraction</code> using the subtraction operator (<code>-</code>). Remember, R stores dates values as numbers under the hood. So, we literally just asked R to subtract the value for <code>dob</code> from the value for <code>today</code>. The value returned to us was a vector of time differences measured in days.</p></li>
<li><p>We created <code>age_difftime</code> base R’s <code>difftime()</code> function. The value returned to us was a vector of time differences measured in days. As you can see, the results returned by <code>today - dob</code> and <code>difftime(today, dob)</code> are identical.</p></li>
<li><p>We created <code>age_lubridate</code> using <code>lubridate</code>’s time interval operator (<code>%--%</code>). Notice that the order of <code>dob</code> and <code>today</code> are switched here compared to the previous two methods. By itself, the <code>%--%</code> operator doesn’t return a time difference value. It returns a time interval value.</p></li>
</ul></li>
</ul>
<p>Here is how we can convert the time difference and time interval values to age in years:</p>
<div class="sourceCode" id="cb642"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb642-1"><a href="working-with-dates.html#cb642-1" aria-hidden="true" tabindex="-1"></a>ages <span class="sc">%&gt;%</span> </span>
<span id="cb642-2"><a href="working-with-dates.html#cb642-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb642-3"><a href="working-with-dates.html#cb642-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_subtraction =</span> <span class="fu">as.numeric</span>(today <span class="sc">-</span> dob) <span class="sc">/</span> <span class="fl">365.25</span>,</span>
<span id="cb642-4"><a href="working-with-dates.html#cb642-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_difftime    =</span> <span class="fu">as.numeric</span>(<span class="fu">difftime</span>(today, dob)) <span class="sc">/</span> <span class="fl">365.25</span>,</span>
<span id="cb642-5"><a href="working-with-dates.html#cb642-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_lubridate   =</span> (dob <span class="sc">%--%</span> today) <span class="sc">/</span> <span class="fu">years</span>(<span class="dv">1</span>)</span>
<span id="cb642-6"><a href="working-with-dates.html#cb642-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 10 × 6
##    name_first dob        today      age_subtraction age_difftime age_lubridate
##    &lt;chr&gt;      &lt;date&gt;     &lt;date&gt;               &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;
##  1 Nathaniel  1996-03-04 2020-05-07            24.2         24.2          24.2
##  2 Sophia     1998-11-21 2020-05-07            21.5         21.5          21.5
##  3 Emmett     1994-09-03 2020-05-07            25.7         25.7          25.7
##  4 Levi       1996-08-03 2020-05-07            23.8         23.8          23.8
##  5 August     1980-06-13 2020-05-07            39.9         39.9          39.9
##  6 Juan       1996-12-08 2020-05-07            23.4         23.4          23.4
##  7 Lilly      1992-11-27 2020-05-07            27.4         27.4          27.4
##  8 Natalie    1983-04-27 2020-05-07            37.0         37.0          37.0
##  9 Solomon    1988-06-28 2020-05-07            31.9         31.9          31.9
## 10 Olivia     1997-08-02 2020-05-07            22.8         22.8          22.8</code></pre>
<p>👆<strong>Here’s what we did above:</strong></p>
<ul>
<li><p>We created three new columns in the <code>ages</code> data frame called <code>age_subtraction</code>, <code>age_difftime</code>, and <code>age_lubridate</code>.</p>
<ul>
<li><p>We used the <code>as.numeric()</code> function to convert the values of <code>age_subtraction</code> from a time differences to a number – the number of days. We then divided the number of days by 365.25 – roughly the number of days in a year. The result is age in years.</p></li>
<li><p>We used the <code>as.numeric()</code> function to convert the values of <code>age_difftime</code> from a time differences to a number – the number of days. We then divided the number of days by 365.25 – roughly the number of days in a year. The result is age in years.</p></li>
<li><p>Again, the results of the first two methods are identical.</p></li>
<li><p>We asked R to show us the time interval values we created <code>age_lubridate</code> using <code>lubridate</code>’s time interval operator (<code>%--%</code>) as years of time. We did so by dividing the time interval into years. Specifically, we used the division operator (<code>/</code>) and <code>lubridate</code>’s <code>years()</code> function. The value we passed to the <code>years()</code> function was <code>1</code>. In other words, we asked R to tell us how many 1-year periods are in each time interval we created with <code>dob %--% today</code>.</p></li>
<li><p>In case you’re wondering, here’s the value returned by the <code>years()</code> function alone:</p></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb644"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb644-1"><a href="working-with-dates.html#cb644-1" aria-hidden="true" tabindex="-1"></a><span class="fu">years</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;1y 0m 0d 0H 0M 0S&quot;</code></pre>
<p>So, why did the results of the first two methods differ from the results of the third method? Well, dates are much more complicated to work with than they may seem on the surface. Specifically, each day doesn’t have exactly 24 hours and each year doesn’t have exactly 365 days. Some have more and some have less – so called, leap years. You can find more details on the <a href="https://lubridate.tidyverse.org/">lubridate website</a>, but the short answer is that <code>lubridate</code>’s method gives us a more precise answer than the first two methods do because it accounts for date complexities in a different way.</p>
<p>Here’s an example to quickly illustrate what I mean:</p>
<p>Say we want to calculate the number of years between “2017-03-01” and “2018-03-01”.</p>
<div class="sourceCode" id="cb646"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb646-1"><a href="working-with-dates.html#cb646-1" aria-hidden="true" tabindex="-1"></a>start <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">&quot;2017-03-01&quot;</span>)</span>
<span id="cb646-2"><a href="working-with-dates.html#cb646-2" aria-hidden="true" tabindex="-1"></a>end   <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">&quot;2018-03-01&quot;</span>)</span></code></pre></div>
<p>The most meaningful result in this situation is obviously 1 year.</p>
<div class="sourceCode" id="cb647"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb647-1"><a href="working-with-dates.html#cb647-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The base R way</span></span>
<span id="cb647-2"><a href="working-with-dates.html#cb647-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(<span class="fu">difftime</span>(end, start)) <span class="sc">/</span> <span class="fl">365.25</span></span></code></pre></div>
<pre><code>## [1] 0.9993155</code></pre>
<div class="sourceCode" id="cb649"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb649-1"><a href="working-with-dates.html#cb649-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The lubridate way</span></span>
<span id="cb649-2"><a href="working-with-dates.html#cb649-2" aria-hidden="true" tabindex="-1"></a>(start <span class="sc">%--%</span> end) <span class="sc">/</span> <span class="fu">years</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>Notice that <code>lubridate</code>’s method returns exactly one year, but the base R method returns an approximation of a year.</p>
<p>To further illustrate this point, let’s look at what happens when the time interval includes a leap year. The year 2020 is a leap year, so let’s calculate the number of years between “2019-03-01” and “2020-03-01”. Again, a meaningful result here should be a year.</p>
<div class="sourceCode" id="cb651"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb651-1"><a href="working-with-dates.html#cb651-1" aria-hidden="true" tabindex="-1"></a>start <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">&quot;2019-03-01&quot;</span>)</span>
<span id="cb651-2"><a href="working-with-dates.html#cb651-2" aria-hidden="true" tabindex="-1"></a>end   <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">&quot;2020-03-01&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb652"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb652-1"><a href="working-with-dates.html#cb652-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The base R way</span></span>
<span id="cb652-2"><a href="working-with-dates.html#cb652-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(<span class="fu">difftime</span>(end, start)) <span class="sc">/</span> <span class="fl">365.25</span></span></code></pre></div>
<pre><code>## [1] 1.002053</code></pre>
<div class="sourceCode" id="cb654"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb654-1"><a href="working-with-dates.html#cb654-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The lubridate way</span></span>
<span id="cb654-2"><a href="working-with-dates.html#cb654-2" aria-hidden="true" tabindex="-1"></a>(start <span class="sc">%--%</span> end) <span class="sc">/</span> <span class="fu">years</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>Once again, the <code>lubridate</code> method returns exactly one year, while the base R method returns an approximation of a year.</p>
</div>
<div id="rounding-time-intervals" class="section level3 hasAnchor" number="28.7.2">
<h3><span class="header-section-number">28.7.2</span> Rounding time intervals<a href="working-with-dates.html#rounding-time-intervals" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Okay, so now we know how to get age in years, and hopefully I convinced you that using functions from the <code>lubridate</code> package can help us do so in the most precise way possible. However, in most situations we would want to take our calculations one step further and round to whole years. There are actually a couple different ways to do so. For example:</p>
<div class="sourceCode" id="cb656"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb656-1"><a href="working-with-dates.html#cb656-1" aria-hidden="true" tabindex="-1"></a>ages <span class="sc">%&gt;%</span> </span>
<span id="cb656-2"><a href="working-with-dates.html#cb656-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb656-3"><a href="working-with-dates.html#cb656-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_years =</span> (dob <span class="sc">%--%</span> today) <span class="sc">/</span> <span class="fu">years</span>(<span class="dv">1</span>),</span>
<span id="cb656-4"><a href="working-with-dates.html#cb656-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># If you want the age (in years) as of the person&#39;s last birthday</span></span>
<span id="cb656-5"><a href="working-with-dates.html#cb656-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_last  =</span> <span class="fu">trunc</span>(age_years),</span>
<span id="cb656-6"><a href="working-with-dates.html#cb656-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># If you want to round the age to the nearest year</span></span>
<span id="cb656-7"><a href="working-with-dates.html#cb656-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_near  =</span> <span class="fu">round</span>(age_years)</span>
<span id="cb656-8"><a href="working-with-dates.html#cb656-8" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 10 × 6
##    name_first dob        today      age_years age_last age_near
##    &lt;chr&gt;      &lt;date&gt;     &lt;date&gt;         &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
##  1 Nathaniel  1996-03-04 2020-05-07      24.2       24       24
##  2 Sophia     1998-11-21 2020-05-07      21.5       21       21
##  3 Emmett     1994-09-03 2020-05-07      25.7       25       26
##  4 Levi       1996-08-03 2020-05-07      23.8       23       24
##  5 August     1980-06-13 2020-05-07      39.9       39       40
##  6 Juan       1996-12-08 2020-05-07      23.4       23       23
##  7 Lilly      1992-11-27 2020-05-07      27.4       27       27
##  8 Natalie    1983-04-27 2020-05-07      37.0       37       37
##  9 Solomon    1988-06-28 2020-05-07      31.9       31       32
## 10 Olivia     1997-08-02 2020-05-07      22.8       22       23</code></pre>
<p>👆<strong>Here’s what we did above:</strong></p>
<ul>
<li><p>We created two new columns in the <code>ages</code> data frame called <code>age_last</code>, and <code>age_near</code>.</p>
<ul>
<li><p>We created <code>age_last</code> using the <code>trunc()</code> (for truncate) function. The value returned by the <code>trunc()</code> function can be interpreted as each person’s age in years at their last birthday.</p></li>
<li><p>We created <code>age_near</code> using the <code>round()</code> function. The value returned by the <code>round()</code> function can be interpreted as each person’s age in years at their nearest birthday – which may not have occurred yet. This is probably not the value that you will typically be looking for. So, just make sure you choose the correct function for the type of rounding you want to do.</p></li>
</ul></li>
</ul>
<p>As a shortcut, we can use the integer division operator (<code>%/%</code>) to calculate each person’s age in years at their nearest birthday without the <code>trunc()</code> function.</p>
<div class="sourceCode" id="cb658"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb658-1"><a href="working-with-dates.html#cb658-1" aria-hidden="true" tabindex="-1"></a>ages <span class="sc">%&gt;%</span> </span>
<span id="cb658-2"><a href="working-with-dates.html#cb658-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb658-3"><a href="working-with-dates.html#cb658-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># If you want the age (in years) as of the person&#39;s last birthday</span></span>
<span id="cb658-4"><a href="working-with-dates.html#cb658-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_years =</span> (dob <span class="sc">%--%</span> today) <span class="sc">%/%</span> <span class="fu">years</span>(<span class="dv">1</span>)</span>
<span id="cb658-5"><a href="working-with-dates.html#cb658-5" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 10 × 4
##    name_first dob        today      age_years
##    &lt;chr&gt;      &lt;date&gt;     &lt;date&gt;         &lt;dbl&gt;
##  1 Nathaniel  1996-03-04 2020-05-07        24
##  2 Sophia     1998-11-21 2020-05-07        21
##  3 Emmett     1994-09-03 2020-05-07        25
##  4 Levi       1996-08-03 2020-05-07        23
##  5 August     1980-06-13 2020-05-07        39
##  6 Juan       1996-12-08 2020-05-07        23
##  7 Lilly      1992-11-27 2020-05-07        27
##  8 Natalie    1983-04-27 2020-05-07        37
##  9 Solomon    1988-06-28 2020-05-07        31
## 10 Olivia     1997-08-02 2020-05-07        22</code></pre>
</div>
</div>
<div id="extracting-out-date-parts" class="section level2 hasAnchor" number="28.8">
<h2><span class="header-section-number">28.8</span> Extracting out date parts<a href="working-with-dates.html#extracting-out-date-parts" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Sometimes it can be useful to store parts of a date in separate columns. For example, it is common to break date values up into their component parts when linking records across multiple data frames. We will learn how to link data frames a little later in the book. For now, we’re just going to learn how separate dates into their component parts.</p>
<p>We won’t need the <code>today</code> column anymore, so I’ll go ahead a drop it here.</p>
<div class="sourceCode" id="cb660"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb660-1"><a href="working-with-dates.html#cb660-1" aria-hidden="true" tabindex="-1"></a>ages <span class="ot">&lt;-</span> ages <span class="sc">%&gt;%</span> </span>
<span id="cb660-2"><a href="working-with-dates.html#cb660-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>today) <span class="sc">%&gt;%</span> </span>
<span id="cb660-3"><a href="working-with-dates.html#cb660-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code></pre></div>
<pre><code>## # A tibble: 10 × 2
##    name_first dob       
##    &lt;chr&gt;      &lt;date&gt;    
##  1 Nathaniel  1996-03-04
##  2 Sophia     1998-11-21
##  3 Emmett     1994-09-03
##  4 Levi       1996-08-03
##  5 August     1980-06-13
##  6 Juan       1996-12-08
##  7 Lilly      1992-11-27
##  8 Natalie    1983-04-27
##  9 Solomon    1988-06-28
## 10 Olivia     1997-08-02</code></pre>
<p>Typically, separating the date will include creating separate columns for the day, the month, and the year. Fortunately, lubridate includes intuitively named functions that make this really easy:</p>
<div class="sourceCode" id="cb662"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb662-1"><a href="working-with-dates.html#cb662-1" aria-hidden="true" tabindex="-1"></a>ages <span class="sc">%&gt;%</span> </span>
<span id="cb662-2"><a href="working-with-dates.html#cb662-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb662-3"><a href="working-with-dates.html#cb662-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">day   =</span> <span class="fu">day</span>(dob),</span>
<span id="cb662-4"><a href="working-with-dates.html#cb662-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">month =</span> <span class="fu">month</span>(dob),</span>
<span id="cb662-5"><a href="working-with-dates.html#cb662-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">year  =</span> <span class="fu">year</span>(dob)</span>
<span id="cb662-6"><a href="working-with-dates.html#cb662-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 10 × 5
##    name_first dob          day month  year
##    &lt;chr&gt;      &lt;date&gt;     &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 Nathaniel  1996-03-04     4     3  1996
##  2 Sophia     1998-11-21    21    11  1998
##  3 Emmett     1994-09-03     3     9  1994
##  4 Levi       1996-08-03     3     8  1996
##  5 August     1980-06-13    13     6  1980
##  6 Juan       1996-12-08     8    12  1996
##  7 Lilly      1992-11-27    27    11  1992
##  8 Natalie    1983-04-27    27     4  1983
##  9 Solomon    1988-06-28    28     6  1988
## 10 Olivia     1997-08-02     2     8  1997</code></pre>
<p>👆<strong>Here’s what we did above:</strong></p>
<ul>
<li>We created three new columns in the <code>ages</code> data frame called <code>day</code>, <code>month</code>, and <code>year</code>. We created them by passing the <code>dob</code> column to the <code>x</code> argument of <code>lubridate</code>’s <code>day()</code>, <code>month()</code>, and <code>year()</code> functions respectively.</li>
</ul>
<p><code>lubridate</code> also includes functions for extracting other information from date values. For example:</p>
<div class="sourceCode" id="cb664"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb664-1"><a href="working-with-dates.html#cb664-1" aria-hidden="true" tabindex="-1"></a>ages <span class="sc">%&gt;%</span> </span>
<span id="cb664-2"><a href="working-with-dates.html#cb664-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb664-3"><a href="working-with-dates.html#cb664-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">wday         =</span> <span class="fu">wday</span>(dob),</span>
<span id="cb664-4"><a href="working-with-dates.html#cb664-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">day_full     =</span> <span class="fu">wday</span>(dob, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">FALSE</span>),</span>
<span id="cb664-5"><a href="working-with-dates.html#cb664-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">day_abb      =</span> <span class="fu">wday</span>(dob, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">TRUE</span>),</span>
<span id="cb664-6"><a href="working-with-dates.html#cb664-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">week_of_year =</span> <span class="fu">week</span>(dob),</span>
<span id="cb664-7"><a href="working-with-dates.html#cb664-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">week_cdc     =</span> <span class="fu">epiweek</span>(dob)</span>
<span id="cb664-8"><a href="working-with-dates.html#cb664-8" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 10 × 7
##    name_first dob         wday day_full  day_abb week_of_year week_cdc
##    &lt;chr&gt;      &lt;date&gt;     &lt;dbl&gt; &lt;ord&gt;     &lt;ord&gt;          &lt;dbl&gt;    &lt;dbl&gt;
##  1 Nathaniel  1996-03-04     2 Monday    Mon               10       10
##  2 Sophia     1998-11-21     7 Saturday  Sat               47       46
##  3 Emmett     1994-09-03     7 Saturday  Sat               36       35
##  4 Levi       1996-08-03     7 Saturday  Sat               31       31
##  5 August     1980-06-13     6 Friday    Fri               24       24
##  6 Juan       1996-12-08     1 Sunday    Sun               49       50
##  7 Lilly      1992-11-27     6 Friday    Fri               48       48
##  8 Natalie    1983-04-27     4 Wednesday Wed               17       17
##  9 Solomon    1988-06-28     3 Tuesday   Tue               26       26
## 10 Olivia     1997-08-02     7 Saturday  Sat               31       31</code></pre>
<p>👆<strong>Here’s what we did above:</strong></p>
<ul>
<li><p>We created five new columns in the <code>ages</code> data frame called <code>wday</code>, <code>day_abb</code>,<code>day_full</code>, <code>week_of_year</code>, and <code>week_cdc</code>. We created them by passing the <code>dob</code> column to the <code>x</code> argument of <code>lubridate</code>’s <code>wday()</code>, <code>week()</code>, and <code>epiweek()</code> functions respectively.</p></li>
<li><p>The <code>wday()</code> function returns the day of the week the given date falls on. By default, the <code>wday()</code> returns an integer value between 1 and 7. We can adjust the values passed to <code>wday()</code>’s <code>label</code> and <code>abbr</code> arguments to return full day names (<code>day_full</code>) and abbreviated day names (<code>day_abb</code>).</p></li>
<li><p>The <code>week()</code> function returns the week of the year the given date falls in. More formally, the <code>week()</code> function “returns the number of complete seven-day periods that have occurred between the date and January 1st, plus one.” You can see this information by typing <code>?week</code> in your console.</p></li>
<li><p>The <code>epiweek()</code> function also returns the week of the year the given date falls in. However, it calculates the week in a slightly different way. Specifically, “it uses the US CDC version of epidemiological week. It follows same rules as isoweek() but starts on Sunday. In other parts of the world the convention is to start epidemiological weeks on Monday, which is the same as isoweek.” Again, you can see this information by typing <code>?week</code> in your console.</p></li>
</ul>
</div>
<div id="sorting-dates" class="section level2 hasAnchor" number="28.9">
<h2><span class="header-section-number">28.9</span> Sorting dates<a href="working-with-dates.html#sorting-dates" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Another really common thing we might want to do with date values is sort them chronologically. Fortunately, this is really easy to do with <code>dplyr</code>’s <code>arrange()</code> function. If we want to sort our dates in ascending order (i.e., oldest to most recent), we just pass the date column to the <code>...</code> argument of the <code>arrange()</code> function like so:</p>
<div class="sourceCode" id="cb666"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb666-1"><a href="working-with-dates.html#cb666-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Oldest (top) to most recent (bottom)</span></span>
<span id="cb666-2"><a href="working-with-dates.html#cb666-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Ascending order</span></span>
<span id="cb666-3"><a href="working-with-dates.html#cb666-3" aria-hidden="true" tabindex="-1"></a>ages <span class="sc">%&gt;%</span> </span>
<span id="cb666-4"><a href="working-with-dates.html#cb666-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(dob)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 2
##    name_first dob       
##    &lt;chr&gt;      &lt;date&gt;    
##  1 August     1980-06-13
##  2 Natalie    1983-04-27
##  3 Solomon    1988-06-28
##  4 Lilly      1992-11-27
##  5 Emmett     1994-09-03
##  6 Nathaniel  1996-03-04
##  7 Levi       1996-08-03
##  8 Juan       1996-12-08
##  9 Olivia     1997-08-02
## 10 Sophia     1998-11-21</code></pre>
<p>If we want to sort our dates in descending order (i.e., most recent to oldest), we just pass the date column to the <code>desc()</code> function before passing it to the <code>...</code> argument of the <code>arrange()</code> function.</p>
<div class="sourceCode" id="cb668"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb668-1"><a href="working-with-dates.html#cb668-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Most recent (top) to oldest (bottom)</span></span>
<span id="cb668-2"><a href="working-with-dates.html#cb668-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Descending order</span></span>
<span id="cb668-3"><a href="working-with-dates.html#cb668-3" aria-hidden="true" tabindex="-1"></a>ages <span class="sc">%&gt;%</span> </span>
<span id="cb668-4"><a href="working-with-dates.html#cb668-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(dob))</span></code></pre></div>
<pre><code>## # A tibble: 10 × 2
##    name_first dob       
##    &lt;chr&gt;      &lt;date&gt;    
##  1 Sophia     1998-11-21
##  2 Olivia     1997-08-02
##  3 Juan       1996-12-08
##  4 Levi       1996-08-03
##  5 Nathaniel  1996-03-04
##  6 Emmett     1994-09-03
##  7 Lilly      1992-11-27
##  8 Solomon    1988-06-28
##  9 Natalie    1983-04-27
## 10 August     1980-06-13</code></pre>
<p>Much of the data we work with in epidemiology includes dates. In fact, it isn’t uncommon for the length of time that passes between to events to be the primary outcome that we are trying to understand. Hopefully, the tools we’ve learned in this chapter will give you a solid foundation for working with dates in R. For more information on dates, including a handy cheat sheet, I recommend visiting the <a href="https://lubridate.tidyverse.org/">lubridate website</a>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="subsetting-data-frames.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="working-with-character-strings.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/brad-cannell/r4epi/edit/master/chapters/05_part_data_management/04_working_with_dates.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
