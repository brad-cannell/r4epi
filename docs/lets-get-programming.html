<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Let‚Äôs get programming | R for Epidemiology</title>
  <meta name="description" content="This is the textbook for Brad Cannell‚Äôs Introduction to R Programming for Epidemiologic Research course." />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Let‚Äôs get programming | R for Epidemiology" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://brad-cannell.github.io/r4epi/" />
  
  <meta property="og:description" content="This is the textbook for Brad Cannell‚Äôs Introduction to R Programming for Epidemiologic Research course." />
  <meta name="github-repo" content="brad-cannell/r4epi" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Let‚Äôs get programming | R for Epidemiology" />
  
  <meta name="twitter:description" content="This is the textbook for Brad Cannell‚Äôs Introduction to R Programming for Epidemiologic Research course." />
  

<meta name="author" content="Brad Cannell" />


<meta name="date" content="2020-05-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="speaking-rs-language.html"/>
<link rel="next" href="r-scripts.html"/>
<script src="libs/header-attrs-2.1/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for Epidemiology</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="part"><span><b>I Getting Started</b></span></li>
<li class="chapter" data-level="1" data-path="installing-r-and-rstudio.html"><a href="installing-r-and-rstudio.html"><i class="fa fa-check"></i><b>1</b> Installing R and RStudio</a>
<ul>
<li class="chapter" data-level="1.1" data-path="installing-r-and-rstudio.html"><a href="installing-r-and-rstudio.html#download-and-install-on-a-mac"><i class="fa fa-check"></i><b>1.1</b> Download and install on a Mac</a></li>
<li class="chapter" data-level="1.2" data-path="installing-r-and-rstudio.html"><a href="installing-r-and-rstudio.html#download-and-install-on-a-pc"><i class="fa fa-check"></i><b>1.2</b> Download and install on a PC</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="what-is-r.html"><a href="what-is-r.html"><i class="fa fa-check"></i><b>2</b> What is R?</a>
<ul>
<li class="chapter" data-level="2.1" data-path="what-is-r.html"><a href="what-is-r.html#what-is-data"><i class="fa fa-check"></i><b>2.1</b> What is data?</a></li>
<li class="chapter" data-level="2.2" data-path="what-is-r.html"><a href="what-is-r.html#what-is-r-1"><i class="fa fa-check"></i><b>2.2</b> What is R?</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="what-is-r.html"><a href="what-is-r.html#accessing-data"><i class="fa fa-check"></i><b>2.2.1</b> Accessing data</a></li>
<li class="chapter" data-level="2.2.2" data-path="what-is-r.html"><a href="what-is-r.html#managing-data"><i class="fa fa-check"></i><b>2.2.2</b> Managing data</a></li>
<li class="chapter" data-level="2.2.3" data-path="what-is-r.html"><a href="what-is-r.html#analyzing-data"><i class="fa fa-check"></i><b>2.2.3</b> Analyzing data</a></li>
<li class="chapter" data-level="2.2.4" data-path="what-is-r.html"><a href="what-is-r.html#presenting-data"><i class="fa fa-check"></i><b>2.2.4</b> Presenting data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="navigating-the-rstudio-interface.html"><a href="navigating-the-rstudio-interface.html"><i class="fa fa-check"></i><b>3</b> Navigating the RStudio interface</a>
<ul>
<li class="chapter" data-level="3.1" data-path="navigating-the-rstudio-interface.html"><a href="navigating-the-rstudio-interface.html#the-console"><i class="fa fa-check"></i><b>3.1</b> The console</a></li>
<li class="chapter" data-level="3.2" data-path="navigating-the-rstudio-interface.html"><a href="navigating-the-rstudio-interface.html#the-environment-pane"><i class="fa fa-check"></i><b>3.2</b> The environment pane</a></li>
<li class="chapter" data-level="3.3" data-path="navigating-the-rstudio-interface.html"><a href="navigating-the-rstudio-interface.html#the-files-pane"><i class="fa fa-check"></i><b>3.3</b> The files pane</a></li>
<li class="chapter" data-level="3.4" data-path="navigating-the-rstudio-interface.html"><a href="navigating-the-rstudio-interface.html#the-source-pane"><i class="fa fa-check"></i><b>3.4</b> The source pane</a></li>
<li class="chapter" data-level="3.5" data-path="navigating-the-rstudio-interface.html"><a href="navigating-the-rstudio-interface.html#rstudio-preferences"><i class="fa fa-check"></i><b>3.5</b> RStudio preferences</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html"><i class="fa fa-check"></i><b>4</b> Speaking R‚Äôs language</a>
<ul>
<li class="chapter" data-level="4.1" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#r-is-a-language"><i class="fa fa-check"></i><b>4.1</b> R is a <em>language</em></a></li>
<li class="chapter" data-level="4.2" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#the-r-interpreter"><i class="fa fa-check"></i><b>4.2</b> The R interpreter</a></li>
<li class="chapter" data-level="4.3" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#errors"><i class="fa fa-check"></i><b>4.3</b> Errors</a></li>
<li class="chapter" data-level="4.4" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#functions"><i class="fa fa-check"></i><b>4.4</b> Functions</a></li>
<li class="chapter" data-level="4.5" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#objects"><i class="fa fa-check"></i><b>4.5</b> Objects</a></li>
<li class="chapter" data-level="4.6" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#comments"><i class="fa fa-check"></i><b>4.6</b> Comments</a></li>
<li class="chapter" data-level="4.7" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#packages"><i class="fa fa-check"></i><b>4.7</b> Packages</a></li>
<li class="chapter" data-level="4.8" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#programming-style"><i class="fa fa-check"></i><b>4.8</b> Programming style</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="lets-get-programming.html"><a href="lets-get-programming.html"><i class="fa fa-check"></i><b>5</b> Let‚Äôs get programming</a>
<ul>
<li class="chapter" data-level="5.1" data-path="lets-get-programming.html"><a href="lets-get-programming.html#simulating-data"><i class="fa fa-check"></i><b>5.1</b> Simulating data</a></li>
<li class="chapter" data-level="5.2" data-path="lets-get-programming.html"><a href="lets-get-programming.html#vectors"><i class="fa fa-check"></i><b>5.2</b> Vectors</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="lets-get-programming.html"><a href="lets-get-programming.html#vector-types"><i class="fa fa-check"></i><b>5.2.1</b> Vector types</a></li>
<li class="chapter" data-level="5.2.2" data-path="lets-get-programming.html"><a href="lets-get-programming.html#double-vectors"><i class="fa fa-check"></i><b>5.2.2</b> Double vectors</a></li>
<li class="chapter" data-level="5.2.3" data-path="lets-get-programming.html"><a href="lets-get-programming.html#integer-vectors"><i class="fa fa-check"></i><b>5.2.3</b> Integer vectors</a></li>
<li class="chapter" data-level="5.2.4" data-path="lets-get-programming.html"><a href="lets-get-programming.html#logical-vectors"><i class="fa fa-check"></i><b>5.2.4</b> Logical vectors</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="lets-get-programming.html"><a href="lets-get-programming.html#data-frames"><i class="fa fa-check"></i><b>5.3</b> Data frames</a></li>
<li class="chapter" data-level="5.4" data-path="lets-get-programming.html"><a href="lets-get-programming.html#missing-data"><i class="fa fa-check"></i><b>5.4</b> Missing data</a></li>
<li class="chapter" data-level="5.5" data-path="lets-get-programming.html"><a href="lets-get-programming.html#our-first-analysis"><i class="fa fa-check"></i><b>5.5</b> Our first analysis</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="lets-get-programming.html"><a href="lets-get-programming.html#manual-calculation-of-the-mean"><i class="fa fa-check"></i><b>5.5.1</b> Manual calculation of the mean</a></li>
<li class="chapter" data-level="5.5.2" data-path="lets-get-programming.html"><a href="lets-get-programming.html#dollar-sign-notation"><i class="fa fa-check"></i><b>5.5.2</b> Dollar sign notation</a></li>
<li class="chapter" data-level="5.5.3" data-path="lets-get-programming.html"><a href="lets-get-programming.html#bracket-notation"><i class="fa fa-check"></i><b>5.5.3</b> Bracket notation</a></li>
<li class="chapter" data-level="5.5.4" data-path="lets-get-programming.html"><a href="lets-get-programming.html#the-sum-function"><i class="fa fa-check"></i><b>5.5.4</b> The sum function</a></li>
<li class="chapter" data-level="5.5.5" data-path="lets-get-programming.html"><a href="lets-get-programming.html#nesting-functions"><i class="fa fa-check"></i><b>5.5.5</b> Nesting functions</a></li>
<li class="chapter" data-level="5.5.6" data-path="lets-get-programming.html"><a href="lets-get-programming.html#the-length-function"><i class="fa fa-check"></i><b>5.5.6</b> The length function</a></li>
<li class="chapter" data-level="5.5.7" data-path="lets-get-programming.html"><a href="lets-get-programming.html#the-mean-function"><i class="fa fa-check"></i><b>5.5.7</b> The mean function</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="lets-get-programming.html"><a href="lets-get-programming.html#some-common-errors"><i class="fa fa-check"></i><b>5.6</b> Some common errors</a></li>
<li class="chapter" data-level="5.7" data-path="lets-get-programming.html"><a href="lets-get-programming.html#summary"><i class="fa fa-check"></i><b>5.7</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>II Coding Tools and Best Practices</b></span></li>
<li class="chapter" data-level="6" data-path="r-scripts.html"><a href="r-scripts.html"><i class="fa fa-check"></i><b>6</b> R scripts</a>
<ul>
<li class="chapter" data-level="6.1" data-path="r-scripts.html"><a href="r-scripts.html#creating-r-scripts"><i class="fa fa-check"></i><b>6.1</b> Creating R scripts</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>7</b> R markdown</a>
<ul>
<li class="chapter" data-level="7.1" data-path="r-markdown.html"><a href="r-markdown.html#what-is-r-markdown"><i class="fa fa-check"></i><b>7.1</b> What is R markdown?</a></li>
<li class="chapter" data-level="7.2" data-path="r-markdown.html"><a href="r-markdown.html#why-use-r-markdown"><i class="fa fa-check"></i><b>7.2</b> Why use R markdown?</a></li>
<li class="chapter" data-level="7.3" data-path="r-markdown.html"><a href="r-markdown.html#create-an-r-markdown-file"><i class="fa fa-check"></i><b>7.3</b> Create an R markdown file</a></li>
<li class="chapter" data-level="7.4" data-path="r-markdown.html"><a href="r-markdown.html#yaml-headers"><i class="fa fa-check"></i><b>7.4</b> YAML headers</a></li>
<li class="chapter" data-level="7.5" data-path="r-markdown.html"><a href="r-markdown.html#r-code-chunks"><i class="fa fa-check"></i><b>7.5</b> R code chunks</a></li>
<li class="chapter" data-level="7.6" data-path="r-markdown.html"><a href="r-markdown.html#markdown"><i class="fa fa-check"></i><b>7.6</b> Markdown</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="r-projects.html"><a href="r-projects.html"><i class="fa fa-check"></i><b>8</b> R projects</a></li>
<li class="chapter" data-level="9" data-path="coding-best-practices.html"><a href="coding-best-practices.html"><i class="fa fa-check"></i><b>9</b> Coding best practices</a>
<ul>
<li class="chapter" data-level="9.1" data-path="coding-best-practices.html"><a href="coding-best-practices.html#general-principles"><i class="fa fa-check"></i><b>9.1</b> General principles</a></li>
<li class="chapter" data-level="9.2" data-path="coding-best-practices.html"><a href="coding-best-practices.html#code-comments"><i class="fa fa-check"></i><b>9.2</b> Code comments</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="coding-best-practices.html"><a href="coding-best-practices.html#defining-key-variables"><i class="fa fa-check"></i><b>9.2.1</b> Defining key variables</a></li>
<li class="chapter" data-level="9.2.2" data-path="coding-best-practices.html"><a href="coding-best-practices.html#what-this-code-is-trying-to-accomplish"><i class="fa fa-check"></i><b>9.2.2</b> What this code is trying to accomplish</a></li>
<li class="chapter" data-level="9.2.3" data-path="coding-best-practices.html"><a href="coding-best-practices.html#why-i-chose-this-particular-strategy"><i class="fa fa-check"></i><b>9.2.3</b> Why I chose this particular strategy</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="coding-best-practices.html"><a href="coding-best-practices.html#style-guidelines"><i class="fa fa-check"></i><b>9.3</b> Style guidelines</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="coding-best-practices.html"><a href="coding-best-practices.html#object-variable-names"><i class="fa fa-check"></i><b>9.3.1</b> Object (variable) names</a></li>
<li class="chapter" data-level="9.3.2" data-path="coding-best-practices.html"><a href="coding-best-practices.html#use-names-that-are-informative"><i class="fa fa-check"></i><b>9.3.2</b> Use names that are informative</a></li>
<li class="chapter" data-level="9.3.3" data-path="coding-best-practices.html"><a href="coding-best-practices.html#file-names"><i class="fa fa-check"></i><b>9.3.3</b> File Names</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="using-pipes.html"><a href="using-pipes.html"><i class="fa fa-check"></i><b>10</b> Using pipes</a>
<ul>
<li class="chapter" data-level="10.1" data-path="using-pipes.html"><a href="using-pipes.html#what-are-pipes"><i class="fa fa-check"></i><b>10.1</b> What are pipes?</a></li>
<li class="chapter" data-level="10.2" data-path="using-pipes.html"><a href="using-pipes.html#how-do-pipes-work"><i class="fa fa-check"></i><b>10.2</b> How do pipes work?</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="using-pipes.html"><a href="using-pipes.html#keyboard-shortcut"><i class="fa fa-check"></i><b>10.2.1</b> Keyboard shortcut</a></li>
<li class="chapter" data-level="10.2.2" data-path="using-pipes.html"><a href="using-pipes.html#pipe-style"><i class="fa fa-check"></i><b>10.2.2</b> Pipe style</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="using-pipes.html"><a href="using-pipes.html#final-thought-on-pipes"><i class="fa fa-check"></i><b>10.3</b> Final thought on pipes</a></li>
</ul></li>
<li class="part"><span><b>III Descriptive Analysis</b></span></li>
<li class="chapter" data-level="11" data-path="introduction-to-descriptive-analysis.html"><a href="introduction-to-descriptive-analysis.html"><i class="fa fa-check"></i><b>11</b> Introduction to descriptive analysis</a>
<ul>
<li class="chapter" data-level="11.1" data-path="introduction-to-descriptive-analysis.html"><a href="introduction-to-descriptive-analysis.html#what-is-descriptive-analysis-and-why-would-we-do-it"><i class="fa fa-check"></i><b>11.1</b> What is descriptive analysis and why would we do it?</a></li>
<li class="chapter" data-level="11.2" data-path="introduction-to-descriptive-analysis.html"><a href="introduction-to-descriptive-analysis.html#what-kind-of-descriptive-analysis-should-we-perform"><i class="fa fa-check"></i><b>11.2</b> What kind of descriptive analysis should we perform?</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html"><i class="fa fa-check"></i><b>12</b> Numerical descriptions of categorical variables</a>
<ul>
<li class="chapter" data-level="12.1" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#height-and-weight-data"><i class="fa fa-check"></i><b>12.1</b> Height and Weight Data</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#view-the-data"><i class="fa fa-check"></i><b>12.1.1</b> View the data</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#calculating-frequencies"><i class="fa fa-check"></i><b>12.2</b> Calculating frequencies</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#the-base-r-table-function"><i class="fa fa-check"></i><b>12.2.1</b> The base R table function</a></li>
<li class="chapter" data-level="12.2.2" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#the-gmodels-crosstable-function"><i class="fa fa-check"></i><b>12.2.2</b> The gmodels CrossTable function</a></li>
<li class="chapter" data-level="12.2.3" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#the-tidyverse-way"><i class="fa fa-check"></i><b>12.2.3</b> The tidyverse way</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#calculating-percentages"><i class="fa fa-check"></i><b>12.3</b> Calculating percentages</a></li>
<li class="chapter" data-level="12.4" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#missing-data-1"><i class="fa fa-check"></i><b>12.4</b> Missing data</a></li>
<li class="chapter" data-level="12.5" data-path="numerical-descriptions-of-categorical-variables.html"><a href="numerical-descriptions-of-categorical-variables.html#formatting-results"><i class="fa fa-check"></i><b>12.5</b> Formatting results</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html"><i class="fa fa-check"></i><b>13</b> Measures of central tendency</a>
<ul>
<li class="chapter" data-level="13.1" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html#calculate-the-mean"><i class="fa fa-check"></i><b>13.1</b> Calculate the mean</a></li>
<li class="chapter" data-level="13.2" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html#calculate-the-median"><i class="fa fa-check"></i><b>13.2</b> Calculate the median</a></li>
<li class="chapter" data-level="13.3" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html#calculate-the-mode"><i class="fa fa-check"></i><b>13.3</b> Calculate the mode</a></li>
<li class="chapter" data-level="13.4" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html#compare-mean-median-and-mode"><i class="fa fa-check"></i><b>13.4</b> Compare mean, median, and mode</a></li>
<li class="chapter" data-level="13.5" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html#data-checking"><i class="fa fa-check"></i><b>13.5</b> Data checking</a></li>
<li class="chapter" data-level="13.6" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html#properties-of-mean-median-and-mode"><i class="fa fa-check"></i><b>13.6</b> Properties of mean, median, and mode</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="measures-of-dispersion.html"><a href="measures-of-dispersion.html"><i class="fa fa-check"></i><b>14</b> Measures of dispersion</a>
<ul>
<li class="chapter" data-level="14.1" data-path="measures-of-dispersion.html"><a href="measures-of-dispersion.html#comparing-distributions"><i class="fa fa-check"></i><b>14.1</b> Comparing distributions</a></li>
</ul></li>
<li class="part"><span><b>IV Appendix</b></span></li>
<li class="chapter" data-level="" data-path="appendix-a-glossary.html"><a href="appendix-a-glossary.html"><i class="fa fa-check"></i>Appendix A: Glossary</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Epidemiology</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lets-get-programming" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Let‚Äôs get programming</h1>
<p>In this chapter, we are going to tie together many of the concepts we‚Äôve learned so far, and you are going to create your first basic R program. Specifically, you are going to write a program that simulates some data and analyzes it.</p>
<div id="simulating-data" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Simulating data</h2>
<p>Data simulation can be really complicated, but it doesn‚Äôt have to be. It is simply the process of <em>creating</em> data as opposed to <em>finding data in the wild</em>. This can be really useful in several different ways.</p>
<ol style="list-style-type: decimal">
<li><p>Simulating data is really useful for getting help with a problem you are trying to solve. Often, it isn‚Äôt feasible for you to send other people the actual data set you are working on when you encounter a problem you need help with. Sometimes, it may not even be legally allowed (i.e., for privacy reasons). Instead of sending them your entire data set, you can simulate a little data set that recreates the challenge you are trying to address without all the other complexity of the full data set. As a bonus, I have often found that I end up figuring out the solution to the problem I‚Äôm trying to solve as I recreate the problem in a simulated data set that I intended to share with others.</p></li>
<li><p>Simulated data can also be useful for learning about and testing statistical assumptions. In epidemiology, we use statistics to draw conclusions about populations of people we are interested in based on samples of people drawn from the population. Because we don‚Äôt actually have data from <em>all</em> the people in the population, we have to make some assumptions about the population based on what we find in our sample. When we simulate data, we know the truth about our population because we <em>created</em> our population to have that truth. We can then use this simulated populations to play ‚Äúwhat if‚Äù games with our analysis. <em>What if we only sampled half as many people?</em> <em>What if their heights aren‚Äôt actually normally distributed?</em> <em>What if we used a probit model instead of a logit model?</em> Going through this process and answering these questions can help us understand how much, and under what circumstances, we can trust the answers we found in the real world.</p></li>
</ol>
<p>So, let‚Äôs go ahead write a complete R program to simulate and analyze some data. As I said, it doesn‚Äôt have to be complicated. In fact, in just a few lines of R code below we simulate and analyze some data about a hypothetical class.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="lets-get-programming.html#cb15-1"></a>class &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</span>
<span id="cb15-2"><a href="lets-get-programming.html#cb15-2"></a>  <span class="dt">names   =</span> <span class="kw">c</span>(<span class="st">&quot;John&quot;</span>, <span class="st">&quot;Sally&quot;</span>, <span class="st">&quot;Brad&quot;</span>, <span class="st">&quot;Anne&quot;</span>),</span>
<span id="cb15-3"><a href="lets-get-programming.html#cb15-3"></a>  <span class="dt">heights =</span> <span class="kw">c</span>(<span class="dv">68</span>, <span class="dv">63</span>, <span class="dv">71</span>, <span class="dv">72</span>)</span>
<span id="cb15-4"><a href="lets-get-programming.html#cb15-4"></a>)</span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="lets-get-programming.html#cb16-1"></a>class</span></code></pre></div>
<pre><code>##   names heights
## 1  John      68
## 2 Sally      63
## 3  Brad      71
## 4  Anne      72</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="lets-get-programming.html#cb18-1"></a><span class="kw">mean</span>(class<span class="op">$</span>heights)</span></code></pre></div>
<pre><code>## [1] 68.5</code></pre>
<p>As you can see, this data frame contains the students‚Äô names and heights. We also use the <code>mean()</code> function to calculate the average height of the class. By the end of this chapter, you will understand all the elements of this R code and how to simulate your own data.</p>
</div>
<div id="vectors" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Vectors</h2>
<p>Vectors are the most fundamental data structure in R. Here, data structure means ‚Äúcontainer for our data.‚Äù There are other data structures as well; however, they are all built from vectors. That‚Äôs why I say vectors are the most fundamental data structure. Some of these other structures include matrices, lists, and data frames. In this book, we won‚Äôt use matrices or lists much at all, so you can forget about them for now. Instead, we will almost exclusively use data frames to hold and manipulate our data. However, because data frames are built from vectors, it can be useful to start by learning a little bit about them. Let‚Äôs create our first vector now.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="lets-get-programming.html#cb20-1"></a><span class="co"># Create an example vector</span></span>
<span id="cb20-2"><a href="lets-get-programming.html#cb20-2"></a>names &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;John&quot;</span>, <span class="st">&quot;Sally&quot;</span>, <span class="st">&quot;Brad&quot;</span>, <span class="st">&quot;Anne&quot;</span>)</span>
<span id="cb20-3"><a href="lets-get-programming.html#cb20-3"></a><span class="co"># Print contents to the screen</span></span>
<span id="cb20-4"><a href="lets-get-programming.html#cb20-4"></a>names</span></code></pre></div>
<pre><code>## [1] &quot;John&quot;  &quot;Sally&quot; &quot;Brad&quot;  &quot;Anne&quot;</code></pre>
<p>üëÜ<strong>Here‚Äôs what we did above:</strong></p>
<ul>
<li><p>We <em>created</em> a vector of names with the <code>c()</code> (short for combine) function.</p>
<ul>
<li><p>The vector contains four values: ‚ÄúJohn‚Äù, ‚ÄúSally‚Äù, ‚ÄúBrad‚Äù, and ‚ÄúAnne‚Äù.</p></li>
<li><p>All of the values are character strings (i.e., words). We know this because all of the values are wrapped with quotation marks.</p></li>
<li><p>Here we used double quotes above, but we could have also used single quotes. We cannot, however, mix double and single quotes for each character string. For example, <code>c("John', ...)</code> won‚Äôt work.</p></li>
</ul></li>
<li><p>We <em>assigned</em> that vector of character strings to the word <code>names</code> using the <code>&lt;-</code> function.</p>
<ul>
<li><p>R now recognizes <code>names</code> as an <strong>object</strong> that we can do things with.</p></li>
<li><p>R programmers may refer to the names object as ‚Äúthe names object‚Äù, ‚Äúthe names vector‚Äù, or ‚Äúthe names variable‚Äù. For our purposes, these all mean the same thing.</p></li>
</ul></li>
<li><p>We <em>printed</em> the contents of the <code>names</code> object to the screen by typing the word ‚Äúnames‚Äù.</p>
<ul>
<li>R <strong>returns</strong> (shows us) the four character values (‚ÄúJohn‚Äù ‚ÄúSally‚Äù ‚ÄúBrad‚Äù ‚ÄúAnne‚Äù) on the computer screen.</li>
</ul></li>
</ul>
<p>Try copying and pasting the code above into the RStudio console on your computer. You should notice the names vector appear in your <strong>global environment</strong>. You may also notice that the global environment pane gives you some additional information about this vector to the right of its name. Specifically, you should see <code>chr [1:4] "John"  "Sally" "Brad"  "Anne"</code>. This is R telling us that <code>names</code> is a character vector (<code>chr</code>), with four values (<code>[1:4]</code>), and the first four values are <code>"John"  "Sally" "Brad"  "Anne"</code>.</p>
<!-- May want to include a screenshot at some point -->
<div id="vector-types" class="section level3" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Vector types</h3>
<p>There are several different vector <strong>types</strong>, but each vector can have only one type. The type of the vector above was character. We can validate that with the <code>typeof()</code> function like so:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="lets-get-programming.html#cb22-1"></a><span class="kw">typeof</span>(names)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>The other vector types that we will use in this book are double, integer, and logical. Double vectors hold <a href="https://en.wikipedia.org/wiki/Real_number">real numbers</a> and integer vectors hold <a href="https://en.wikipedia.org/wiki/Integer">integers</a>. Collectively, double vectors and integer vectors are known as numeric vectors. Logical vectors can only hold the values TRUE and FALSE. Here are some examples of each:</p>
</div>
<div id="double-vectors" class="section level3" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Double vectors</h3>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="lets-get-programming.html#cb24-1"></a><span class="co"># A numeric vector</span></span>
<span id="cb24-2"><a href="lets-get-programming.html#cb24-2"></a>my_numbers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">12.5</span>, <span class="fl">13.98765</span>, pi)</span>
<span id="cb24-3"><a href="lets-get-programming.html#cb24-3"></a>my_numbers</span></code></pre></div>
<pre><code>## [1] 12.500000 13.987650  3.141593</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="lets-get-programming.html#cb26-1"></a><span class="kw">typeof</span>(my_numbers)</span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="lets-get-programming.html#cb28-1"></a><span class="co"># An integer vector - first attempt</span></span>
<span id="cb28-2"><a href="lets-get-programming.html#cb28-2"></a>my_ints_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb28-3"><a href="lets-get-programming.html#cb28-3"></a>my_ints_<span class="dv">1</span></span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="lets-get-programming.html#cb30-1"></a><span class="kw">typeof</span>(my_ints_<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
</div>
<div id="integer-vectors" class="section level3" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> Integer vectors</h3>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="lets-get-programming.html#cb32-1"></a><span class="co"># An integer vector</span></span>
<span id="cb32-2"><a href="lets-get-programming.html#cb32-2"></a><span class="co"># Must put &quot;L&quot; behind the number to make it an integer. No idea why they chose &quot;L&quot;.</span></span>
<span id="cb32-3"><a href="lets-get-programming.html#cb32-3"></a>my_ints_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">c</span>(1L, 2L, 3L)</span>
<span id="cb32-4"><a href="lets-get-programming.html#cb32-4"></a>my_ints_<span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="lets-get-programming.html#cb34-1"></a><span class="kw">typeof</span>(my_ints_<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
</div>
<div id="logical-vectors" class="section level3" number="5.2.4">
<h3><span class="header-section-number">5.2.4</span> Logical vectors</h3>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="lets-get-programming.html#cb36-1"></a><span class="co"># An integer vector</span></span>
<span id="cb36-2"><a href="lets-get-programming.html#cb36-2"></a><span class="co"># Type TRUE and FALSE in all caps</span></span>
<span id="cb36-3"><a href="lets-get-programming.html#cb36-3"></a>my_logical &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>)</span>
<span id="cb36-4"><a href="lets-get-programming.html#cb36-4"></a>my_logical</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="lets-get-programming.html#cb38-1"></a><span class="kw">typeof</span>(my_logical)</span></code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<p>Rather than have an abstract discussion about the particulars of each of these vector types right now, I think it‚Äôs best to wait and learn more about them when they naturally arise in the context of a real challenge we are trying to solve with data. At this point, just having some vague idea that they exist is good enough.</p>
</div>
</div>
<div id="data-frames" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Data frames</h2>
<p>Vectors are useful for storing a single characteristic where all the data is of the same type. However, in epidemiology, we typically want to store information about many different characteristics of whatever we happen to be studying. For example, we didn‚Äôt just want the names of the people in our class, we also wanted the heights. Of course, we can also store the heights in a vector like so:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="lets-get-programming.html#cb40-1"></a>heights &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">68</span>, <span class="dv">63</span>, <span class="dv">71</span>, <span class="dv">72</span>)</span>
<span id="cb40-2"><a href="lets-get-programming.html#cb40-2"></a>heights</span></code></pre></div>
<pre><code>## [1] 68 63 71 72</code></pre>
<p>But this vector, in and of itself, doesn‚Äôt tell us which height goes with which person. When we want to create relationships between our vectors, we can use them to build a data frame. For example:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="lets-get-programming.html#cb42-1"></a><span class="co"># Create a vector of names</span></span>
<span id="cb42-2"><a href="lets-get-programming.html#cb42-2"></a>names &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;John&quot;</span>, <span class="st">&quot;Sally&quot;</span>, <span class="st">&quot;Brad&quot;</span>, <span class="st">&quot;Anne&quot;</span>)</span>
<span id="cb42-3"><a href="lets-get-programming.html#cb42-3"></a><span class="co"># Create a vector of heights</span></span>
<span id="cb42-4"><a href="lets-get-programming.html#cb42-4"></a>heights &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">68</span>, <span class="dv">63</span>, <span class="dv">71</span>, <span class="dv">72</span>)</span>
<span id="cb42-5"><a href="lets-get-programming.html#cb42-5"></a><span class="co"># Combine them into a data frame</span></span>
<span id="cb42-6"><a href="lets-get-programming.html#cb42-6"></a>class &lt;-<span class="st"> </span><span class="kw">data.frame</span>(names, heights)</span>
<span id="cb42-7"><a href="lets-get-programming.html#cb42-7"></a><span class="co"># Print the data frame to the screen</span></span>
<span id="cb42-8"><a href="lets-get-programming.html#cb42-8"></a>class</span></code></pre></div>
<pre><code>##   names heights
## 1  John      68
## 2 Sally      63
## 3  Brad      71
## 4  Anne      72</code></pre>
<p>üëÜ<strong>Here‚Äôs what we did above:</strong></p>
<ul>
<li><p>We <em>created</em> a data frame with the <code>data.frame()</code> function.</p>
<ul>
<li><p>The first argument we passed to the <code>data.frame()</code> function was a vector of names that we previously created.</p></li>
<li><p>The second argument we passed to the <code>data.frame()</code> function was a vector of heights that we previously created.</p></li>
</ul></li>
<li><p>We <em>assigned</em> that data frame to the word <code>class</code> using the <code>&lt;-</code> function.</p>
<ul>
<li><p>R now recognizes <code>class</code> as an <strong>object</strong> that we can do things with.</p></li>
<li><p>R programmers may refer to the names object as ‚Äúthe class object‚Äù or ‚Äúthe class data frame‚Äù. For our purposes, these all mean the same thing. We could also call it a data set, but that term isn‚Äôt used much in R circles.</p></li>
</ul></li>
<li><p>We <em>printed</em> the contents of the <code>class</code> object to the screen by typing the word ‚Äúclass‚Äù.</p>
<ul>
<li>R <strong>returns</strong> (shows us) the data frame on the computer screen.</li>
</ul></li>
</ul>
<p>Try copying and pasting the code above into the RStudio console on your computer. You should notice the <code>class</code> data frame appear in your <strong>global environment</strong>. You may also notice that the global environment pane gives you some additional information about this data frame to the right of its name. Specifically, you should see <code>4 obs. of 2 variables</code>. This is R telling us that <code>class</code> has four rows or observations (<code>4 obs.</code>) and two columns or variables (<code>2 variables</code>). If you click the little blue arrow to the left of the data frame‚Äôs name, you will see information about the individual vectors that make up the data frame.</p>
<p>As a shortcut, instead of creating individual vectors and then combining them into a data frame as we‚Äôve done above, most R programmers will create the vectors (columns) directly inside of the data frame function like this:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="lets-get-programming.html#cb44-1"></a><span class="co"># Create the class data frame</span></span>
<span id="cb44-2"><a href="lets-get-programming.html#cb44-2"></a>class &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</span>
<span id="cb44-3"><a href="lets-get-programming.html#cb44-3"></a>  <span class="dt">names   =</span> <span class="kw">c</span>(<span class="st">&quot;John&quot;</span>, <span class="st">&quot;Sally&quot;</span>, <span class="st">&quot;Brad&quot;</span>, <span class="st">&quot;Anne&quot;</span>),</span>
<span id="cb44-4"><a href="lets-get-programming.html#cb44-4"></a>  <span class="dt">heights =</span> <span class="kw">c</span>(<span class="dv">68</span>, <span class="dv">63</span>, <span class="dv">71</span>, <span class="dv">72</span>)</span>
<span id="cb44-5"><a href="lets-get-programming.html#cb44-5"></a>) <span class="co"># Closing parenthesis down here.</span></span>
<span id="cb44-6"><a href="lets-get-programming.html#cb44-6"></a></span>
<span id="cb44-7"><a href="lets-get-programming.html#cb44-7"></a><span class="co"># Print the data frame to the screen</span></span>
<span id="cb44-8"><a href="lets-get-programming.html#cb44-8"></a>class</span></code></pre></div>
<pre><code>##   names heights
## 1  John      68
## 2 Sally      63
## 3  Brad      71
## 4  Anne      72</code></pre>
<p>As you can see, both methods produce the exact same result. The second method, however, requires a little less typing and results in fewer objects cluttering up your global environment. What I mean by that is that the <code>names</code> and <code>heights</code> vectors won‚Äôt exist independently in your global environment. Rather, they will only exist as columns of the <code>class</code> data frame.</p>
<p>You may have also noticed that when we created the <code>names</code> and <code>heights</code> vectors (columns) directly inside of the <code>data.frame()</code> function we used the equal sign (<code>=</code>) to assign values instead of the assignment arrow (<code>&lt;-</code>). This is just one of those quirky R exceptions we talked about in the chapter on speaking R‚Äôs language. In fact, <code>=</code> and <code>&lt;-</code> can be used interchangeably in R. It is only by convention that we usually use <code>&lt;-</code> for assigning values, but use <code>=</code> for assigning values to columns in data frames. I don‚Äôt know why this is the convention. If it were up to me, we wouldn‚Äôt do this. We would just pick <code>=</code> or <code>&lt;-</code> and use it in all cases where we want to assign values. But, it isn‚Äôt up to me and I gave up on trying to fight it a long time ago. Your R programming life will be easier if you just learn to assign values this way ‚Äì even if it‚Äôs dumb. ü§∑</p>
<p class="warning">
‚ö†Ô∏è<strong>Warning:</strong> By definition, all columns in a data frame must have the same length (i.e., number of rows). That means that each vector you create when building your data frame must have the same number of values in it. For example, the class data frame above has four names and four heights. If we had only entered three heights, we would have gotten the following error: <code>Error in data.frame(names = c("John", "Sally", "Brad", "Anne"), heights = c(68,  : arguments imply differing number of rows: 4, 3</code>
</p>
</div>
<div id="missing-data" class="section level2" number="5.4">
<h2><span class="header-section-number">5.4</span> Missing data</h2>
<p>As indicated in the warning above, all columns in our data frames have to have the same length. So what do we do when we are truly missing information in some of our observations? For example, how do we create the <code>class</code> data frame if we are missing Anne‚Äôs height for some reason?</p>
<p>In R, we represent missing data with an <code>NA</code>. For example:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="lets-get-programming.html#cb46-1"></a><span class="co"># Create the class data frame</span></span>
<span id="cb46-2"><a href="lets-get-programming.html#cb46-2"></a><span class="kw">data.frame</span>(</span>
<span id="cb46-3"><a href="lets-get-programming.html#cb46-3"></a>  <span class="dt">names   =</span> <span class="kw">c</span>(<span class="st">&quot;John&quot;</span>, <span class="st">&quot;Sally&quot;</span>, <span class="st">&quot;Brad&quot;</span>, <span class="st">&quot;Anne&quot;</span>),</span>
<span id="cb46-4"><a href="lets-get-programming.html#cb46-4"></a>  <span class="dt">heights =</span> <span class="kw">c</span>(<span class="dv">68</span>, <span class="dv">63</span>, <span class="dv">71</span>, <span class="ot">NA</span>) <span class="co"># Now we are missing Anne&#39;s height</span></span>
<span id="cb46-5"><a href="lets-get-programming.html#cb46-5"></a>)</span></code></pre></div>
<pre><code>##   names heights
## 1  John      68
## 2 Sally      63
## 3  Brad      71
## 4  Anne      NA</code></pre>
<p class="note">
üóí<strong>Side Note:</strong> Make sure you capitalize <code>NA</code> and don‚Äôt use any spaces or quotation marks. Also, make sure you use <code>NA</code> instead of writing <code>"Missing"</code> or something like that.
</p>
<p>By default, R considers <code>NA</code> to be a logical-type value (as opposed to character or numeric). for example:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="lets-get-programming.html#cb48-1"></a><span class="kw">typeof</span>(<span class="ot">NA</span>)</span></code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<p>However, you can tell R to make <code>NA</code> a different type by using one of the more specific forms of <code>NA</code>. For example:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="lets-get-programming.html#cb50-1"></a><span class="kw">typeof</span>(<span class="ot">NA_character_</span>)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="lets-get-programming.html#cb52-1"></a><span class="kw">typeof</span>(<span class="ot">NA_integer_</span>)</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="lets-get-programming.html#cb54-1"></a><span class="kw">typeof</span>(<span class="ot">NA_real_</span>)</span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<p>Most of the time, you won‚Äôt have to worry about doing this because R will take care of converting <code>NA</code> for you. What do I mean by that? Well, remember that every vector can have only one type. So, when you add an <code>NA</code> (logical by default) to a vector with double values as we did above (i.e., <code>c(68, 63, 71, NA)</code>), that would cause you to have three double values and one logical value in the same vector, which is not allowed. Therefore, R will automatically convert the <code>NA</code> to <code>NA_real_</code> for you behind the scenes.</p>
<p>This is a concept known as ‚Äútype coercion‚Äù and you can read more about it <a href="https://r4ds.had.co.nz/vectors.html#coercion">here</a> if you are interested. As I said, most of the time you don‚Äôt have to worry about type coercion ‚Äì it will happen automatically. But, sometimes it doesn‚Äôt and it will cause R to give you an error. I mostly encounter this when using the <code>if_else()</code> and <code>case_when()</code> functions, which we will discuss later.</p>
</div>
<div id="our-first-analysis" class="section level2" number="5.5">
<h2><span class="header-section-number">5.5</span> Our first analysis</h2>
<p>Congratulations on your new R programming skills. üéâ You can now create vectors and data frames. This is no small thing. Basically, everything else we do in this book will start with vectors and data frames.</p>
<p>Having said that, just <em>creating</em> data frames may not seem super exciting. So, let‚Äôs round out this chapter with a basic descriptive analysis of the data we simulated. Specifically, let‚Äôs find the average height of the class.</p>
<p>You will find that in R there are almost always many different ways to accomplish a given task. Sometimes, choosing one over another is simply a matter of preference. Other times, one method is clearly more efficient and/or accurate than another. This is a point that will come up over and over in this book. Let‚Äôs use our desire to find the mean height of the class as an example.</p>
<div id="manual-calculation-of-the-mean" class="section level3" number="5.5.1">
<h3><span class="header-section-number">5.5.1</span> Manual calculation of the mean</h3>
<p>For starters, we can add up all the heights and divide by the total number of heights to find the mean.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="lets-get-programming.html#cb56-1"></a>(<span class="dv">68</span> <span class="op">+</span><span class="st"> </span><span class="dv">63</span> <span class="op">+</span><span class="st"> </span><span class="dv">71</span> <span class="op">+</span><span class="st"> </span><span class="dv">72</span>) <span class="op">/</span><span class="st"> </span><span class="dv">4</span></span></code></pre></div>
<pre><code>## [1] 68.5</code></pre>
<p>üëÜ<strong>Here‚Äôs what we did above:</strong></p>
<ul>
<li><p>We used the addition operator (+) to add up all the heights.</p></li>
<li><p>We used the division operator (/) to divide the sum of all the heights by 4 - the number of individual heights we added together.</p></li>
<li><p>We used parentheses to enforce the correct order of operations (i.e., make R do addition before division).</p></li>
</ul>
<p>This works, but why might it not be the best approach? Well, for starters, manually typing in the heights is error prone. We can easily accidently press the wrong key. Luckily, we already have the heights stored as a column in the <code>class</code> data frame. We can <em>access</em> or <em>refer to</em> a single column in a data frame using the <strong>dollar sign notation</strong>.</p>
</div>
<div id="dollar-sign-notation" class="section level3" number="5.5.2">
<h3><span class="header-section-number">5.5.2</span> Dollar sign notation</h3>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="lets-get-programming.html#cb58-1"></a>class<span class="op">$</span>heights</span></code></pre></div>
<pre><code>## [1] 68 63 71 72</code></pre>
<p>üëÜ<strong>Here‚Äôs what we did above:</strong></p>
<ul>
<li><p>We used the dollar sign notation to <em>access</em> the <code>heights</code> column in the <code>class</code> data frame.</p>
<ul>
<li>Dollar sign notation is just the data frame name, followed by the dollar sign, followed by the column name.</li>
</ul></li>
</ul>
</div>
<div id="bracket-notation" class="section level3" number="5.5.3">
<h3><span class="header-section-number">5.5.3</span> Bracket notation</h3>
<p>Further, we can use <strong>bracket notation</strong> to access each value in a vector. I think it‚Äôs easier to demonstrate bracket notation than it is to describe it. For example, we could access the third value in the names vector like this:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="lets-get-programming.html#cb60-1"></a><span class="co"># Create the heights vector</span></span>
<span id="cb60-2"><a href="lets-get-programming.html#cb60-2"></a>heights &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">68</span>, <span class="dv">63</span>, <span class="dv">71</span>, <span class="dv">72</span>)</span>
<span id="cb60-3"><a href="lets-get-programming.html#cb60-3"></a></span>
<span id="cb60-4"><a href="lets-get-programming.html#cb60-4"></a><span class="co"># Bracket notation</span></span>
<span id="cb60-5"><a href="lets-get-programming.html#cb60-5"></a><span class="co"># Access the third element in the heights vector with bracket notation</span></span>
<span id="cb60-6"><a href="lets-get-programming.html#cb60-6"></a>heights[<span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [1] 71</code></pre>
<p>Remember, that data frame columns are also vectors. So, we can combine the dollar sign notation and bracket notation, to access each individual value of the <code>height</code> column in the <code>class</code> data frame. This will help us get around the problem of typing each individual height value. For example:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="lets-get-programming.html#cb62-1"></a><span class="co"># First way to calculate the mean</span></span>
<span id="cb62-2"><a href="lets-get-programming.html#cb62-2"></a><span class="co"># (68 + 63 + 71 + 72) / 4</span></span>
<span id="cb62-3"><a href="lets-get-programming.html#cb62-3"></a></span>
<span id="cb62-4"><a href="lets-get-programming.html#cb62-4"></a><span class="co"># Second way. Use dollar sign notation and bracket notation so that we don&#39;t have to type individual heights</span></span>
<span id="cb62-5"><a href="lets-get-programming.html#cb62-5"></a>(class<span class="op">$</span>heights[<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span>class<span class="op">$</span>heights[<span class="dv">2</span>] <span class="op">+</span><span class="st"> </span>class<span class="op">$</span>heights[<span class="dv">3</span>] <span class="op">+</span><span class="st"> </span>class<span class="op">$</span>heights[<span class="dv">4</span>]) <span class="op">/</span><span class="st"> </span><span class="dv">4</span></span></code></pre></div>
<pre><code>## [1] 68.5</code></pre>
</div>
<div id="the-sum-function" class="section level3" number="5.5.4">
<h3><span class="header-section-number">5.5.4</span> The sum function</h3>
<p>The second method is better in the sense that we no longer have to worry about mistyping the heights. However, who wants to type <code>class$heights[...]</code> over and over? What if we had a hundred numbers? What if we had a thousand numbers? This wouldn‚Äôt work. Luckily, there is a function that adds all the numbers contained in a numeric vector ‚Äì the <code>sum()</code> function. Let‚Äôs take a look:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="lets-get-programming.html#cb64-1"></a><span class="co"># Create the heights vector</span></span>
<span id="cb64-2"><a href="lets-get-programming.html#cb64-2"></a>heights &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">68</span>, <span class="dv">63</span>, <span class="dv">71</span>, <span class="dv">72</span>)</span>
<span id="cb64-3"><a href="lets-get-programming.html#cb64-3"></a></span>
<span id="cb64-4"><a href="lets-get-programming.html#cb64-4"></a><span class="co"># Add together all the individual heights with the sum function</span></span>
<span id="cb64-5"><a href="lets-get-programming.html#cb64-5"></a><span class="kw">sum</span>(heights)</span></code></pre></div>
<pre><code>## [1] 274</code></pre>
<p>Remember, that data frame columns are also vectors. So, we can combine the dollar sign notation and <code>sum()</code> function, to add up all the individual heights in the <code>heights</code> column of the <code>class</code> data frame. It looks like this:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="lets-get-programming.html#cb66-1"></a><span class="co"># First way to calculate the mean</span></span>
<span id="cb66-2"><a href="lets-get-programming.html#cb66-2"></a><span class="co"># (68 + 63 + 71 + 72) / 4</span></span>
<span id="cb66-3"><a href="lets-get-programming.html#cb66-3"></a></span>
<span id="cb66-4"><a href="lets-get-programming.html#cb66-4"></a><span class="co"># Second way. Use dollar sign notation and bracket notation so that we don&#39;t have to type individual heights</span></span>
<span id="cb66-5"><a href="lets-get-programming.html#cb66-5"></a><span class="co"># (class$heights[1] + class$heights[2] + class$heights[3] + class$heights[4]) / 4</span></span>
<span id="cb66-6"><a href="lets-get-programming.html#cb66-6"></a></span>
<span id="cb66-7"><a href="lets-get-programming.html#cb66-7"></a><span class="co"># Third way. Use dollar sign notation and sum function so that we don&#39;t have to type as much</span></span>
<span id="cb66-8"><a href="lets-get-programming.html#cb66-8"></a><span class="kw">sum</span>(class<span class="op">$</span>heights) <span class="op">/</span><span class="st"> </span><span class="dv">4</span></span></code></pre></div>
<pre><code>## [1] 68.5</code></pre>
<p>üëÜ<strong>Here‚Äôs what we did above:</strong></p>
<ul>
<li><p>We passed the numeric vector <code>heights</code> from the <code>class</code> data frame to the <code>sum()</code> function using dollar sign notation.</p></li>
<li><p>The <code>sum()</code> function returned the total value of all the heights added together.</p></li>
<li><p>We divided the total value of the heights by four ‚Äì the number of individual heights.</p></li>
</ul>
</div>
<div id="nesting-functions" class="section level3" number="5.5.5">
<h3><span class="header-section-number">5.5.5</span> Nesting functions</h3>
<p><span class="red-text">!!</span> Before we move on, I want to point out something that is actually kind of a big deal. In the third method above, we didn‚Äôt manually add up all the individual heights - R did this calculation for us. Further, we didn‚Äôt store the sum of the individual heights somewhere and then divide that stored value by 4. Heck, we didn‚Äôt even see what the sum of the individual heights were. Instead, the returned value from the sum function (274) was used <em>directly</em> in the next calculation (<code>/ 4</code>) by R without us seeing the result. In other words, <code>(68 + 63 + 71 + 72) / 4</code>, <code>274 / 4</code>, and <code>sum(class$heights) / 4</code> are all exactly the same thing to R. However, the third method (<code>sum(class$heights) / 4</code>) is much more <strong>scalable</strong> (i.e., adding a lot more numbers doesn‚Äôt make this any harder to do) and much less error prone. Just to be clear, the BIG DEAL is that we now know that the values returned by functions can be <em>directly</em> passed to other functions in exactly the same way as if we typed the values ourselves.</p>
<p>This concept, functions passing values to other functions is known as <strong>nesting functions</strong>. It‚Äôs called nesting functions because we can put functions inside of other functions.</p>
<p>‚ÄúBut, Brad, there‚Äôs only one function in the command <code>sum(class$heights) / 4</code> ‚Äì the <code>sum()</code> function.‚Äù Really? Is there? Remember when I said that operators are also functions in R? Well, the division operator is a function. And, like all functions it can be written with parentheses like this:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="lets-get-programming.html#cb68-1"></a><span class="co"># Writing the division operator as a function with parentheses</span></span>
<span id="cb68-2"><a href="lets-get-programming.html#cb68-2"></a><span class="st">`</span><span class="dt">/</span><span class="st">`</span>(<span class="dv">8</span>, <span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>üëÜ<strong>Here‚Äôs what we did above:</strong></p>
<ul>
<li><p>We wrote the division operator in its more function-looking form.</p>
<ul>
<li><p>Because the division operator isn‚Äôt a letter, we had to wrap it in backticks (`).</p></li>
<li><p>The backtick key is on the top left corner of your keyboard near the escape key (esc).</p></li>
<li><p>The first agurment we passed to the division function was the dividend (The number we want to divide).</p></li>
<li><p>The second argument we passed to the division function was the divisor (The number we want to divide by).</p></li>
</ul></li>
</ul>
<p>So, the following two commands mean exactly the same thing to R:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="lets-get-programming.html#cb70-1"></a><span class="dv">8</span> <span class="op">/</span><span class="st"> </span><span class="dv">4</span></span></code></pre></div>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="lets-get-programming.html#cb71-1"></a><span class="st">`</span><span class="dt">/</span><span class="st">`</span>(<span class="dv">8</span>, <span class="dv">4</span>)</span></code></pre></div>
<p>And if we use this second form of the division operator, we can clearly see that one function is <em>nested</em> inside another function.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="lets-get-programming.html#cb72-1"></a><span class="st">`</span><span class="dt">/</span><span class="st">`</span>(<span class="kw">sum</span>(class<span class="op">$</span>heights), <span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1] 68.5</code></pre>
<p>üëÜ<strong>Here‚Äôs what we did above:</strong></p>
<ul>
<li><p>We calculated the mean height of the class.</p>
<ul>
<li><p>The first argument we passed to the division function was the returned value from the <code>sum()</code> function.</p></li>
<li><p>The second argument we passed to the division function was the divisor (4).</p></li>
</ul></li>
</ul>
<p>This is kind of mind-blowing stuff the first time you encounter it. ü§Ø I wouldn‚Äôt blame you if you are feeling overwhelmed or confused. The main points to take away from this section are:</p>
<ol style="list-style-type: decimal">
<li><p>Everything we <em>do</em> in R, we will <em>do</em> with functions. Even operators are functions, and they can be written in a form that looks function-like; however, we will almost never actually write them in that way.</p></li>
<li><p>Functions can be <strong>nested</strong>. This is huge because it allows us to directly pass returned values to other functions. Nesting functions in this way allows us to do very complex operations in a scalable way and without storing a bunch of unneeded values that are created in the intermediate steps of the operation.</p></li>
<li><p>The downside of nesting functions is that it can make our code difficult to read - especially when we nest many functions. Fortunately, we will learn to use the pipe operator (<code>%&gt;%</code>) in the workflow basics part of this book. Once you get used to pipes, they will make nested functions much easier to read.</p></li>
</ol>
<p>Now, let‚Äôs get back to our analysis‚Ä¶</p>
</div>
<div id="the-length-function" class="section level3" number="5.5.6">
<h3><span class="header-section-number">5.5.6</span> The length function</h3>
<p>I think most of us would agree that the third method we learned for calculating the mean height is preferable to the first two methods for most situations. However, the third method still requires us to know how many individual heights are in the <code>heights</code> column (i.e., 4). Luckily, there is a function that tells us how many individual values are contained in a vector ‚Äì the <code>length()</code> function. Let‚Äôs take a look:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="lets-get-programming.html#cb74-1"></a><span class="co"># Create the heights vector</span></span>
<span id="cb74-2"><a href="lets-get-programming.html#cb74-2"></a>heights &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">68</span>, <span class="dv">63</span>, <span class="dv">71</span>, <span class="dv">72</span>)</span>
<span id="cb74-3"><a href="lets-get-programming.html#cb74-3"></a></span>
<span id="cb74-4"><a href="lets-get-programming.html#cb74-4"></a><span class="co"># Return the number of individual values in heights</span></span>
<span id="cb74-5"><a href="lets-get-programming.html#cb74-5"></a><span class="kw">length</span>(heights)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>Remember, that data frame columns are also vectors. So, we can combine the dollar sign notation and <code>length()</code> function to automatically calculate the number of values in the <code>heights</code> column of the <code>class</code> data frame. It looks like this:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="lets-get-programming.html#cb76-1"></a><span class="co"># First way to calculate the mean</span></span>
<span id="cb76-2"><a href="lets-get-programming.html#cb76-2"></a><span class="co"># (68 + 63 + 71 + 72) / 4</span></span>
<span id="cb76-3"><a href="lets-get-programming.html#cb76-3"></a></span>
<span id="cb76-4"><a href="lets-get-programming.html#cb76-4"></a><span class="co"># Second way. Use dollar sign notation and bracket notation so that we don&#39;t have to type individual heights</span></span>
<span id="cb76-5"><a href="lets-get-programming.html#cb76-5"></a><span class="co"># (class$heights[1] + class$heights[2] + class$heights[3] + class$heights[4]) / 4</span></span>
<span id="cb76-6"><a href="lets-get-programming.html#cb76-6"></a></span>
<span id="cb76-7"><a href="lets-get-programming.html#cb76-7"></a><span class="co"># Third way. Use dollar sign notation and sum function so that we don&#39;t have to type as much</span></span>
<span id="cb76-8"><a href="lets-get-programming.html#cb76-8"></a><span class="co"># sum(class$heights) / 4</span></span>
<span id="cb76-9"><a href="lets-get-programming.html#cb76-9"></a></span>
<span id="cb76-10"><a href="lets-get-programming.html#cb76-10"></a><span class="co"># Fourth way. Use dollar sign notation with the sum function and the length function</span></span>
<span id="cb76-11"><a href="lets-get-programming.html#cb76-11"></a><span class="kw">sum</span>(class<span class="op">$</span>heights) <span class="op">/</span><span class="st"> </span><span class="kw">length</span>(class<span class="op">$</span>heights)</span></code></pre></div>
<pre><code>## [1] 68.5</code></pre>
<p>üëÜ<strong>Here‚Äôs what we did above:</strong></p>
<ul>
<li><p>We passed the numeric vector <code>heights</code> from the <code>class</code> data frame to the <code>sum()</code> function using dollar sign notation.</p></li>
<li><p>The <code>sum()</code> function returned the total value of all the heights added together.</p></li>
<li><p>We passed the numeric vector <code>heights</code> from the <code>class</code> data frame to the <code>length()</code> function using dollar sign notation.</p></li>
<li><p>The <code>length()</code> function returned the total number of values in the <code>heights</code> column.</p></li>
<li><p>We divided the total value of the heights by the total number of values in the <code>heights</code> column.</p></li>
</ul>
</div>
<div id="the-mean-function" class="section level3" number="5.5.7">
<h3><span class="header-section-number">5.5.7</span> The mean function</h3>
<p>The fourth method above is definitely the best method yet. However, this need to find the mean value of a numeric vector is so common that someone had the sense to create a function that takes care of all the above steps for us ‚Äì the <code>mean()</code> function. And as you probably saw coming, we can use the mean function like so:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="lets-get-programming.html#cb78-1"></a><span class="co"># First way to calculate the mean</span></span>
<span id="cb78-2"><a href="lets-get-programming.html#cb78-2"></a><span class="co"># (68 + 63 + 71 + 72) / 4</span></span>
<span id="cb78-3"><a href="lets-get-programming.html#cb78-3"></a></span>
<span id="cb78-4"><a href="lets-get-programming.html#cb78-4"></a><span class="co"># Second way. Use dollar sign notation and bracket notation so that we don&#39;t have to type individual heights</span></span>
<span id="cb78-5"><a href="lets-get-programming.html#cb78-5"></a><span class="co"># (class$heights[1] + class$heights[2] + class$heights[3] + class$heights[4]) / 4</span></span>
<span id="cb78-6"><a href="lets-get-programming.html#cb78-6"></a></span>
<span id="cb78-7"><a href="lets-get-programming.html#cb78-7"></a><span class="co"># Third way. Use dollar sign notation and sum function so that we don&#39;t have to type as much</span></span>
<span id="cb78-8"><a href="lets-get-programming.html#cb78-8"></a><span class="co"># sum(class$heights) / 4</span></span>
<span id="cb78-9"><a href="lets-get-programming.html#cb78-9"></a></span>
<span id="cb78-10"><a href="lets-get-programming.html#cb78-10"></a><span class="co"># Fourth way. Use dollar sign notation with the sum function and the length function</span></span>
<span id="cb78-11"><a href="lets-get-programming.html#cb78-11"></a><span class="co"># sum(class$heights) / length(class$heights)</span></span>
<span id="cb78-12"><a href="lets-get-programming.html#cb78-12"></a></span>
<span id="cb78-13"><a href="lets-get-programming.html#cb78-13"></a><span class="co"># Fifth way. Use dollar sign notation with the mean function</span></span>
<span id="cb78-14"><a href="lets-get-programming.html#cb78-14"></a><span class="kw">mean</span>(class<span class="op">$</span>heights)</span></code></pre></div>
<pre><code>## [1] 68.5</code></pre>
<p>Congratulations again! You completed your first analysis using R!</p>
</div>
</div>
<div id="some-common-errors" class="section level2" number="5.6">
<h2><span class="header-section-number">5.6</span> Some common errors</h2>
<p>Before we move on, I want to briefly discuss a couple common errors that will frustrate many of you early in your R journey. You may have noticed that I went out of my way to differentiate between the <code>heights</code> vector and the <code>heights</code> column in the <code>class</code> data frame. As annoying as that may have been, I did it for a reason. The <code>heights</code> vector and the <code>heights</code> column in the <code>class</code> data frame are two separate things to the R interpreter, and you have to be very specific about which one you are referring to. To make this more concrete, let‚Äôs add a <code>weight</code> column to our <code>class</code> data frame.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="lets-get-programming.html#cb80-1"></a>class<span class="op">$</span>weight &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">160</span>, <span class="dv">170</span>, <span class="dv">180</span>, <span class="dv">190</span>)</span></code></pre></div>
<p>üëÜ<strong>Here‚Äôs what we did above:</strong></p>
<ul>
<li>We created a new column in our data frame ‚Äì <code>weight</code> ‚Äì using dollar sign notation.</li>
</ul>
<p>Now, let‚Äôs find the mean weight of the students in our class.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="lets-get-programming.html#cb81-1"></a><span class="kw">mean</span>(weight)</span></code></pre></div>
<pre><code>## Error in mean(weight): object &#39;weight&#39; not found</code></pre>
<p>Uh, oh! What happened? Why is R saying that <code>weight</code> doesn‚Äôt exist? We clearly created it above, right? Wrong. We didn‚Äôt create an <em>object</em> called weight in the code chunk above. We created a <em>column</em> called <code>weight</code> in the <em>object</em> called <code>class</code> in the code chunk above. Those are <em>different things</em> to R. If we want to get the mean of <code>weight</code> we have to tell R that <code>weight</code> is a column in <code>class</code> like so:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="lets-get-programming.html#cb83-1"></a><span class="kw">mean</span>(class<span class="op">$</span>weight)</span></code></pre></div>
<pre><code>## [1] 175</code></pre>
<p>A related issue can arise when you have an object and a column with the same name but different values. For example:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="lets-get-programming.html#cb85-1"></a><span class="co"># An object called scores</span></span>
<span id="cb85-2"><a href="lets-get-programming.html#cb85-2"></a>scores &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">9</span>, <span class="dv">3</span>)</span>
<span id="cb85-3"><a href="lets-get-programming.html#cb85-3"></a></span>
<span id="cb85-4"><a href="lets-get-programming.html#cb85-4"></a><span class="co"># A colummn in the class data frame called scores</span></span>
<span id="cb85-5"><a href="lets-get-programming.html#cb85-5"></a>class<span class="op">$</span>scores &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">95</span>, <span class="dv">97</span>, <span class="dv">93</span>, <span class="dv">100</span>)</span></code></pre></div>
<p>If you ask R for the mean of <code>scores</code>, R will give you an answer.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="lets-get-programming.html#cb86-1"></a><span class="kw">mean</span>(scores)</span></code></pre></div>
<pre><code>## [1] 5.666667</code></pre>
<p>However, if you wanted the mean of the <code>scores</code> column in the <code>class</code> data frame, this won‚Äôt be the <em>correct</em> answer. Hopefully, you already know how to get the correct answer, which is:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="lets-get-programming.html#cb88-1"></a><span class="kw">mean</span>(class<span class="op">$</span>scores)</span></code></pre></div>
<pre><code>## [1] 96.25</code></pre>
<p>Again, the <code>scores</code> object and the <code>scores</code> column of the <code>class</code> object are different things to R.</p>
</div>
<div id="summary" class="section level2" number="5.7">
<h2><span class="header-section-number">5.7</span> Summary</h2>
<p>Wow! We covered a lot in this first part of the book on getting started with R and RStudio. Don‚Äôt feel bad if your head is swimming. It‚Äôs a lot to take-in. However, you should feel proud of the fact that you can already do some legitimately useful things with R. Namely, simulate and analyze data. In the next part of this book, we are going to discuss some tools and best practices that will make it easier and more efficient for you to write and share your R code. After that, we will move on to tackling more advanced programming and data analysis challenges.</p>

</div>
</div>




</div>
            </section>

          </div>
        </div>
      </div>
<a href="speaking-rs-language.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r-scripts.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
